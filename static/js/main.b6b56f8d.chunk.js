(this["webpackJsonpnogasm-ui"]=this["webpackJsonpnogasm-ui"]||[]).push([[0],{268:function(e,t,n){},401:function(e,t,n){},404:function(e,t,n){},579:function(e,t,n){"use strict";n.r(t);var a=n(134),i=n(1),c=n.n(i),o=n(72),r=n.n(o),l=(n(268),n(56)),s=n(57),m=n(63),d=n(62),u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbkAAABACAYAAACHvglNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMGJjNWJjNC0zZTk5LWNmNDItODY1NS1iZmFlYTk5YzdmODYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjQyOTQzMjgxODkyMTFFQkEyRERENEY0RDZCMTZDMkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjQyOTQzMjcxODkyMTFFQkEyRERENEY0RDZCMTZDMkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQzNTJjOWEtNTk0My0yNDQxLTg2NjctMTIyMGNhN2QyYzYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjMwYmM1YmM0LTNlOTktY2Y0Mi04NjU1LWJmYWVhOTljN2Y4NiIv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",g=n(5),v=n(39),f=n(27),h=n(10),p=n(222),b=n.n(p),E=n(26),y=function(e){var t=Object(i.useContext)(w);console.log(t);var n=Object(i.useState)(t.ip),a=Object(E.a)(n,2),o=a[0],r=a[1];return c.a.createElement("div",{className:"full-splash",style:{minHeight:"100vh",position:"relative"}},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.connect(o)},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block",margin:"0 auto",width:300}},c.a.createElement("img",{src:u,alt:"Maus-Tec Logo"}),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"card-title"},"Connect Your Device"),c.a.createElement(g.Row,{style:{margin:"0.5rem -0.75rem 0 -0.75rem"}},c.a.createElement(g.TextInput,{autoFocus:!0,s:12,disabled:t.state===N.CONNECTING,type:"text",label:"IP Address",id:"ip_address",onChange:function(e){return r(e.target.value)}})),c.a.createElement(g.Button,{type:"submit",disabled:t.state===N.CONNECTING,style:{display:"block",width:"100%"}},t.state===N.CONNECTING?"Connecting...":"Connect")))))},C="manual",O="automatic",N={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected"},j={ip:null,state:N.DISCONNECTED,config:{},readings:[],lastReading:{},mode:"",modeDisplay:"",info:{deviceName:"",firmwareVersion:"",hardwareVersion:"",deviceSerial:""},status:{wifi:{},sd:{}},_ws_log:[],_serial_cb:function(){}},w=c.a.createContext(Object(h.a)(Object(h.a)({},j),{},{connect:function(e){},send:function(e){},onSerialCmd:function(e){},dir:function(e,t){}})),x=c.a.createContext({readings:[],lastReading:{}}),k=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).ws=null;var i=window.location.hash&&window.location.hash.substring(1);return a.state={deviceContext:Object(h.a)(Object(h.a)({},j),{},{ip:i,state:i?N.CONNECTING:N.DISCONNECTED,connect:a.connect.bind(Object(f.a)(a)),send:a.send.bind(Object(f.a)(a)),onSerialCmd:a.setSerialCb.bind(Object(f.a)(a)),dir:a.dir.bind(Object(f.a)(a))}),readingsContext:{readings:[],lastReading:{}}},a.nonceCb={},a.callbacks={info:a.cbInfo,configList:a.cbConfigList,serialCmd:a.cbSerialCmd,wifiStatus:a.cbWifiStatus,sdStatus:a.cbSdStatus,readings:a.cbReadings,mode:a.cbMode,dir:a.cbDir},a}return Object(s.a)(n,[{key:"setReadingsState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({readingsContext:Object(h.a)(Object(h.a)({},this.state.readingsContext),e)})}},{key:"setDeviceState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({deviceContext:Object(h.a)(Object(h.a)({},this.state.deviceContext),e)})}},{key:"cbDir",value:function(e){}},{key:"cbInfo",value:function(e){this.setDeviceState({info:{deviceName:e.device,firmwareVersion:e.fwVersion,hardwareVersion:e.hwVersion,deviceSerial:e.serial}})}},{key:"cbConfigList",value:function(e){this.setDeviceState({config:e})}},{key:"cbSerialCmd",value:function(e){var t=e.text,n=e.nonce;this.state.deviceContext._serial_cb&&this.state.deviceContext._serial_cb({text:t,nonce:n})}},{key:"cbWifiStatus",value:function(e){this.setDeviceState({status:Object(h.a)(Object(h.a)({},this.state.deviceContext.status),{},{wifi:e})})}},{key:"cbSdStatus",value:function(e){this.setDeviceState({status:Object(h.a)(Object(h.a)({},this.state.deviceContext.status),{},{sd:e})})}},{key:"cbReadings",value:function(e){var t=Object(v.a)(this.state.readingsContext.readings);t.length>=100&&t.shift(),t.push(e),this.setReadingsState({readings:t,lastReading:e})}},{key:"cbMode",value:function(e){this.setDeviceState({mode:e.text.toLowerCase(),modeDisplay:e.text})}},{key:"dir",value:function(e,t){this.send({dir:{path:e,nonce:t}})}},{key:"mknonce",value:function(e){var t=Math.floor(1e6*Math.random());return this.nonceCb[t]=e,t}},{key:"send",value:function(e){var t=this;this.ws&&(Object.keys(e).forEach((function(n){e[n]&&"function"===typeof e[n].nonce&&(e[n].nonce=t.mknonce(e[n].nonce))})),this.setDeviceState({_ws_log:[].concat(Object(v.a)(this.state.deviceContext._ws_log),[{send:e}])}),this.ws.sendMessage(JSON.stringify(e)))}},{key:"connect",value:function(e){var t="connecting";e?e===this.state.deviceContext.ip&&(t=this.state.deviceContext.state):t="disconnected",this.setDeviceState({ip:e,state:t})}},{key:"handleWsOpen",value:function(){this.setDeviceState({state:"connected"}),this.send({streamReadings:!0}),this.send({info:null}),this.send({configList:null}),console.log("Connected")}},{key:"handleWsClose",value:function(){this.setDeviceState({state:"disconnected"}),console.log("Closed.")}},{key:"handleWsMessage",value:function(e){var t,n=this,i=this;try{t=JSON.parse(e)}catch(o){t={data:e},console.warn(o)}if(t.readings||console.debug("handleWsMessage",t,e),!t.readings){var c=Object(v.a)(this.state.deviceContext._ws_log);c.length>=100&&c.shift(),this.setDeviceState({_ws_log:[c,{recv:e}]})}Object.keys(t).forEach((function(e){var c=t[e];c&&(c.nonce&&n.nonceCb[c.nonce]&&(n.nonceCb[c.nonce](c),delete n.nonceCb[c.nonce]),c.error&&Object(a.toast)({html:c.error,classes:"red white-text",duration:3e3})),n.callbacks[e]?n.callbacks[e].bind(i)(c):console.warn("Received unknown command from device: ",e,t[e])}))}},{key:"setSerialCb",value:function(e){this.setDeviceState({_serial_cb:e})}},{key:"render",value:function(){var e=this,t="ws"+window.location.protocol.slice(4);return c.a.createElement(w.Provider,{value:this.state.deviceContext},c.a.createElement(x.Provider,{value:this.state.readingsContext},this.state.deviceContext.ip&&c.a.createElement(b.a,{url:t+"//"+this.state.deviceContext.ip,onOpen:this.handleWsOpen.bind(this),onClose:this.handleWsClose.bind(this),ref:function(t){return e.ws=t},debug:!0,onMessage:this.handleWsMessage.bind(this)}),this.state.deviceContext.state===N.CONNECTED&&this.props.children,this.state.deviceContext.state!==N.CONNECTED&&c.a.createElement(y,null)))}}]),n}(i.Component),S=function(e){var t=Object(i.useContext)(w);return c.a.createElement(g.Navbar,{alignLinks:"right",brand:c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{className:"brand-logo",href:"#"},c.a.createElement("img",{alt:"Maus-Tec Logo",src:u,height:18})),c.a.createElement("div",{className:"status"},t.modeDisplay)),id:"mobile-nav",menuIcon:c.a.createElement(g.Icon,null,"menu"),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}},c.a.createElement(g.NavItem,{href:"",icon:c.a.createElement(g.Icon,null,"wifi")},t.status.wifi.ssid))},I=n.p+"static/media/EoM_Blueprint.0814d075.svg",D=n(30),R=n(49),M="idle",T="pairing",W={devices:[],state:M},L=Object(i.createContext)(Object(h.a)(Object(h.a)({},W),{},{startPairing:function(){},stopPairing:function(){}})),A=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).client=new R.ButtplugClient("Edge-o-Matic UI"),a.client.addListener("deviceadded",a.handleDevice.bind(Object(f.a)(a))),a.client.addListener("deviceremoved",a.removeDevice.bind(Object(f.a)(a))),a.connector=null,a.state=Object(h.a)(Object(h.a)({},W),{},{startPairing:a.startPairing.bind(Object(f.a)(a)),stopPairing:a.stopPairing.bind(Object(f.a)(a))}),a}return Object(s.a)(n,[{key:"handleDevice",value:function(e){console.log("Device added: ",e.Name),this.setState({devices:[].concat(Object(v.a)(this.state.devices),[e])})}},{key:"removeDevice",value:function(e){console.log("Device removed: ",e.Name),this.setState({devices:this.state.devices.filter((function(t){return t.Index!==e.Index}))})}},{key:"startPairing",value:function(){var e=this;this.setState({state:T}),this.connector=new R.ButtplugEmbeddedClientConnector,console.log("Connecting..."),this.client.Connect(this.connector).then((function(){console.log("Starting scan..."),e.client.StartScanning().then((function(){console.log("Connected."),e.setState({state:M})})).catch((function(t){console.error(t),e.setState({state:M})}))})).catch((function(t){console.error(t),e.setState({state:M})}))}},{key:"stopPairing",value:function(){var e=this;this.setState({state:M}),console.log("Stopping scan..."),this.client.StopScanning().then((function(){console.log("Disconnecting..."),e.client.Disconnect().then(console.log).catch((function(t){console.error(t),e.setState({state:M})}))})).catch((function(t){console.error(t),e.setState({state:M})}))}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.context.lastReading.motor,a=t.lastReading.motor;if(n!==a){var i=Math.max(Math.min(1,a/255),0);this.state.devices.map((function(e){i>0?e.SendVibrateCmd(i).then().catch(console.error):e.SendStopDeviceCmd().then().catch(console.error)}))}}},{key:"render",value:function(){var e=this.props.children;return c.a.createElement(L.Provider,{value:this.state},e)}}]),n}(i.Component);A.contextType=x;var P=A,H=(n(401),function(){var e=Object(i.useContext)(w),t=Object(i.useContext)(L),n=(e.state,e.state,"disconnected"===e.state);return c.a.createElement(g.SideNav,{id:"SideNav",options:{draggable:!0},fixed:!0},c.a.createElement(g.SideNavItem,{user:{background:I,image:I,name:"connecting"===e.state?"Connecting...":e.info.deviceName||"Unknown Device",email:e.ip||"Disconnected"},userView:!0}),t.devices.map((function(e,t){var n="";return e.Name&&e.Name.match(/lovense/i)&&(n="lovense"),c.a.createElement("li",{className:"buttplug-device "+n,key:t},c.a.createElement("div",{className:"device-name"},e.Name),c.a.createElement("div",{className:"status"}),c.a.createElement("a",{href:"#",className:"disconnect",onClick:function(e){return e.preventDefault()},title:"Pause Control"},c.a.createElement(g.Icon,null,"pause")))})),c.a.createElement("li",null,c.a.createElement(D.c,{to:"/",exact:!0,activeClassName:"primary-dark white-text"},c.a.createElement(g.Icon,{className:"prefix"},"dashboard")," Dashboard")),c.a.createElement("li",null,c.a.createElement(D.c,{to:"/settings",activeClassName:"primary-dark white-text"},c.a.createElement(g.Icon,{className:"prefix"},"settings")," Settings")),c.a.createElement("li",null,c.a.createElement(D.c,{to:"/console",activeClassName:"primary-dark white-text"},c.a.createElement(g.Icon,{className:"prefix"},"code")," Serial Console")),c.a.createElement("li",null,c.a.createElement(D.c,{to:"/files",activeClassName:"primary-dark white-text"},c.a.createElement(g.Icon,{className:"prefix"},"folder_open")," File Manager")),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(g.SideNavItem,{divider:!0}),t.state===M&&c.a.createElement(g.SideNavItem,{href:"#!buttplug",onClick:function(e){e.preventDefault(),t.startPairing()},waves:!0,icon:c.a.createElement(g.Icon,null,"bluetooth")},"Pair Device"),t.state===T&&c.a.createElement(g.SideNavItem,{href:"#!buttplug",onClick:function(e){e.preventDefault(),t.stopPairing()},waves:!0,icon:c.a.createElement(g.Icon,null,"bluetooth")},"Cancel Pairing"),c.a.createElement(g.SideNavItem,{href:"#!disconnect",onClick:function(t){t.preventDefault(),e.connect(null)},waves:!0,icon:c.a.createElement(g.Icon,null,"close")},"Disconnect")))}),Z=(n(404),300),z=13,B=function(e){return e*(Math.PI/180)},V=function(e,t,n,a,i){return(e-t)*(i-a)/(n-t)+a},J=function(e){for(var t=Object(i.useContext)(w),n=Object(i.useContext)(x),a=t.config.sensitivity_threshold,o=void 0===a?0:a,r=n.lastReading,l=r.pressure,s=void 0===l?0:l,m=r.arousal,d=void 0===m?0:m,u=Math.floor(V(s,0,4096,0,12)),g=(Math.floor(V(o,0,4096,0,12)),Math.floor(V(d,0,o,0,12))),v=[],f=0;f<z;f++){var p=z-f-1,b=40+23.333333333333332*f,E=Math.sin(B(b))*Z/2+150,y=Math.cos(B(b))*Z/2+150,C=50,O=0;p===u?(O=290,C=75):p<g?O=V(f,0,12,0,120):C=100,v[f]={color:"hsl(".concat(O,", 100%, ").concat(C,"%)"),x:E,y:y,rot:b,glow:C<100}}return c.a.createElement("div",{className:"led-ring",style:Object(h.a)({width:Z,height:Z},e.style)},v.map((function(e,t){return c.a.createElement("div",{className:"led led-"+t,key:t,style:{backgroundColor:e.color,left:e.x,top:e.y,transform:"translate(-50%, -50%) rotate(-".concat(e.rot,"deg)"),boxShadow:e.glow?"0 0 10px 3px ".concat(e.color):"",opacity:e.glow?1:.8}})})),e.children)},U={fontSize:"1.9rem",marginTop:0,fontWeight:"300"},F={verticalAlign:"middle",fontWeight:"300",marginTop:0,marginBottom:0,fontSize:"4rem",lineHeight:"4rem"},G={margin:"0 0.5rem 0 0",height:"4rem",lineHeight:"4rem",verticalAlign:"middle",padding:"0 5px"},K=function(e){var t=e.name,n=e.value,a=void 0===n?"?":n,i=e.style,o=void 0===i?{}:i,r=e.onChange,l=e.unit,s=e.round,m=e.max,d=void 0===m?0:m,u=e.step,v=void 0===u?1:u,f=a;if(d>0&&!isNaN(a/d)&&(l="%",f=a=a/d*100),a%1){var p=2;s||a>100?p=0:a>=10&&(p=1),f=Math.floor(a*Math.pow(10,p))/Math.pow(10,p)}return isNaN(f)&&(f="?"),c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{style:Object(h.a)(Object(h.a)({},U),o),className:"stat-heading center primary-text"},t),c.a.createElement("h1",{className:"stat-value center primary-light-text",style:F},r&&c.a.createElement(g.Button,{flat:!0,onClick:function(e){return r(-1*v)},className:"primary-dark-text",style:G},c.a.createElement(g.Icon,null,"keyboard_arrow_down")),f,l&&c.a.createElement("span",{style:{fontSize:"1.2rem"}}," ",l),r&&c.a.createElement(g.Button,{flat:!0,onClick:function(e){return r(v)},className:"primary-dark-text",style:Object(h.a)(Object(h.a)({},G),{},{margin:"0 0 0 0.5rem"})},c.a.createElement(g.Icon,null,"keyboard_arrow_up"))))},Q=function(){var e=Object(i.useContext)(w),t=Object(i.useContext)(x),n=t.lastReading.pavg||0,a=e.config.sensor_sensitivity,o=n/4095*Math.floor((255-a)/255*100);return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m3"},c.a.createElement(K,{name:"Pressure",value:o,unit:"kPa",round:!0}),c.a.createElement(K,{name:"Sensitivity",round:!0,max:255,step:2,onChange:function(t){var n=e.config.sensor_sensitivity,a=void 0===n?0:n;a+=t,e.send({configSet:{sensor_sensitivity:a}})},value:e.config.sensor_sensitivity,style:{marginTop:"5rem"}})),c.a.createElement("div",{className:"col s12 m6"},c.a.createElement(J,{style:{margin:"15px auto"}},c.a.createElement(K,{name:"Arousal",value:t.lastReading.arousal,flipped:!0,max:e.config.sensitivity_threshold,round:!0}))),c.a.createElement("div",{className:"col s12 m3"},c.a.createElement(K,{name:"Speed",onChange:e.mode===C?function(n){var a=t.lastReading.motor,i=void 0===a?0:a;i+=n,e.send({setMotor:i})}:void 0,step:7,value:t.lastReading.motor/255*100,round:!0,unit:"%"}),c.a.createElement(K,{name:"Arousal Limit",onChange:function(t){var n=e.config.sensitivity_threshold,a=void 0===n?0:n;a+=t,e.send({configSet:{sensitivity_threshold:a}})},value:e.config.sensitivity_threshold,style:{marginTop:"5rem"}})))},Y=n(32),X=n(231),q=function(e){var t=Object(i.useContext)(w),n=Object(i.useContext)(x),a=Object(i.useState)({width:0,height:300}),o=Object(E.a)(a,2),r=o[0],l=o[1],s=t.config.peakLimit,m=n.readings;return c.a.createElement(X.a,{bounds:!0,onResize:function(e){return l(e.bounds)}},(function(e){var t=e.measureRef;return c.a.createElement("div",{style:{height:300},ref:t},c.a.createElement(Y.d,{width:r.width,height:r.height,data:m},c.a.createElement(Y.f,{yAxisId:0,domain:[0,4096]}),c.a.createElement(Y.f,{yAxisId:1,domain:[0,255],label:"%",orientation:"right"}),c.a.createElement(Y.b,null),c.a.createElement(Y.a,{vertical:!1,stroke:"#333333"}),c.a.createElement(Y.e,{y:s,label:"Arousal Limit",stroke:"#b71c1c"}),c.a.createElement(Y.c,{name:"Pressure",type:"monotone",dataKey:"pressure",yAxisId:0,dot:!1,stroke:"#81c784"}),c.a.createElement(Y.c,{name:"Motor Speed",type:"step",dataKey:"motor",yAxisId:1,dot:!1,stroke:"#ffab40"}),c.a.createElement(Y.c,{name:"Arousal",type:"linear",dataKey:"arousal",strokeWidth:2,yAxisId:0,dot:!1,stroke:"#ff3d00"})))}))},_=function(){var e=Object(i.useContext)(w),t=Object(i.useContext)(x);return c.a.createElement(g.Container,{style:{marginTop:"3rem"}},c.a.createElement(Q,null),c.a.createElement("div",{className:"row",style:{marginTop:"3rem"}},c.a.createElement("div",{className:"col s12 m4"},c.a.createElement(g.Button,{onClick:function(t){t.preventDefault(),e.send({setMode:C,setMotor:0})},large:!0,disabled:0===t.lastReading.motor,className:"red darken-2 block"},"STOP!")),c.a.createElement("div",{className:"col s12 m4"},c.a.createElement("div",{className:"center",style:{lineHeight:"54px"}},c.a.createElement(g.Switch,{id:"ModeSwitch",offLabel:"Manual",onChange:function(t){var n=t.target.checked?O:C;e.send({setMode:n})},onLabel:"Automatic",checked:e.mode===O}))),c.a.createElement("div",{className:"col s12 m4"},c.a.createElement(g.Button,{onClick:function(t){t.preventDefault(),e.send({setMode:C,setMotor:255})},large:!0,disabled:e.mode!==O,className:"green darken-2 block"},"Allow Orgasm"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-content"},c.a.createElement(q,null))))))},$=n(17),ee=n(93),te=function(){var e=Object(i.useContext)(w),t=Object(i.useState)({}),n=Object(E.a)(t,2),a=n[0],o=n[1],r=Object(i.useState)(""),l=Object(E.a)(r,2),s=l[0],m=l[1],d=Object(i.useRef)(null),u=function(e){var t=e.text,n=e.nonce,i=Object(h.a)({},a);console.log({text:t,nonce:n,lines:a,l:i}),i[n]||(i[n]={line:""}),i[n].response=t,o(i)};Object(i.useEffect)((function(){e.onSerialCmd(u),d.current.scrollIntoView({behavior:"smooth"})}),[a]);return c.a.createElement("div",{className:"fullscreen-view",style:{display:"flex",flexGrow:1,flexDirection:"column"}},c.a.createElement("pre",{style:{margin:0,padding:"0.5rem 1.5rem 1.5rem 1.5rem",flexGrow:1,height:100,overflow:"auto"}},Object.keys(a).map((function(e){var t=a[e],n=t.line.match(/\s+/),i=n?n.index:t.line.length,o=[t.line.substr(0,i),t.line.substr(i+1)],r=o[0],l=o[1];return c.a.createElement("code",{key:e,style:{marginTop:"1rem",display:"block"}},c.a.createElement("div",null,c.a.createElement("span",{className:"grey-text"},">")," ",c.a.createElement("span",{className:"primary-light-text"},r)," ",c.a.createElement("span",null,l)),t.response&&c.a.createElement("div",null,t.response))})),c.a.createElement("div",{style:{float:"left",clear:"both"},ref:d})),c.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),"clear"===s)return m(""),void o({});var n={line:s,response:null},i=Object.keys(a).length+1;o(Object(h.a)(Object(h.a)({},a),{},Object(ee.a)({},i,n))),e.send({serialCmd:{nonce:i,cmd:s}}),m("")},style:{display:"flex"}},c.a.createElement("input",{type:"text",className:"grey darken-3",autoComplete:"off",style:{boxSizing:"border-box",padding:"0 1.5rem",margin:0,flexGrow:1},name:"cmd",value:s,onChange:function(e){e.preventDefault(),m(e.target.value)},placeholder:"Command..."}),c.a.createElement(g.Button,{disabled:""===s,type:"submit",style:{height:"3rem"}},"Send")))},ne=n(234),ae=function(e){var t=e.onSave,n=e.keys,a=void 0===n?[]:n,i=e.config,o=e.title,r=e.toggle,l=e.children;l&&l.map?l.map((function(e){a.push(e.props.id)})):l.props&&a.push(l.props.id),r&&r.props&&a.push(r.props.id);var s=i._dirty.filter((function(e){return a.indexOf(e)>=0})).length>0;return c.a.createElement("form",{onSubmit:t(a)},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"card-title",style:{marginBottom:"1.5rem"}},r&&c.a.createElement("div",{className:"right"},r),o),c.a.createElement(g.Row,{style:{marginLeft:"-0.75rem",marginRight:"-0.75rem",marginBottom:0}},l)),c.a.createElement("div",{className:"card-action right-align"},c.a.createElement(g.Button,{type:"submit",disabled:!s},"Save"))))},ie=function(e){var t=e.onChange,n=e.config,a=e.Component,i=void 0===a?g.TextInput:a,o=e.type,r=void 0===o?"text":o,l=e.s,s=void 0===l?12:l,m=e.m,d=void 0===m?12:m,u=e.label,v=e.id,f=Object(ne.a)(e,["onChange","config","Component","type","s","m","label","id"]);if("switch"===r){var h=c.a.createElement(g.Switch,Object.assign({onLabel:"On",offLabel:"Off",checked:!!n[v],onChange:t,id:v,name:v},f));return""===u?h:c.a.createElement(c.a.Fragment,null,c.a.createElement(g.Col,{s:12,m:6},u),c.a.createElement(g.Col,{s:12,m:6,className:"right-align"},h))}return c.a.createElement(i,Object.assign({name:v,id:v,s:s,m:d,label:u,type:r,value:n[v]||"",onChange:t},f))},ce=function(){var e=Object(i.useContext)(w),t=Object(i.useState)(Object(h.a)(Object(h.a)({},e.config),{},{_dirty:[]})),n=Object(E.a)(t,2),a=n[0],o=n[1];Object(i.useEffect)((function(){var t={};a._dirty.map((function(e){t[e]=a[e]})),o(Object(h.a)(Object(h.a)(Object(h.a)({},e.config),t),{},{_dirty:a._dirty}))}),[e.config]);var r=function(e){var t=e.target,n=t.name,i=t.value,c=t.checked,r=t.type,l=Object(h.a)({},a);"checkbox"===r?l[n]=c:(l[n]=i,e.preventDefault()),l._dirty.indexOf(n)<0&&l._dirty.push(n),o(l)},l=function(t){return function(n){n.preventDefault();var i={};a._dirty.map((function(e){t.indexOf(e)>=0&&(i[e]=a[e])})),console.log({keys:t,configDraft:a,config:i}),e.send({configSet:i}),o(Object(h.a)(Object(h.a)({},a),{},{_dirty:a._dirty.filter((function(e){return-1===t.indexOf(e)}))}))}};return c.a.createElement(g.Container,{style:{marginTop:"3rem",marginBottom:"3rem"}},c.a.createElement(ae,{onSave:l,title:"WiFi Connection",config:a,toggle:c.a.createElement(ie,{type:"switch",id:"wifi_on",config:a,onChange:r})},c.a.createElement(ie,{config:a,onChange:r,id:"wifi_ssid",label:"Network SSID"}),c.a.createElement(ie,{config:a,onChange:r,id:"wifi_key",label:"Network Password",type:"password"})),c.a.createElement(ae,{onSave:l,title:"Bluetooth Connection",config:a,toggle:c.a.createElement(ie,{type:"switch",id:"bt_on",config:a,onChange:r})},c.a.createElement(ie,{config:a,onChange:r,id:"bt_display_name",label:"Bluetooth Display Name"})),c.a.createElement(ae,{onSave:l,title:"Remote Control",config:a},c.a.createElement(ie,{type:"number",id:"websocket_port",label:"Websocket Port",config:a,onChange:r}),c.a.createElement(ie,{type:"switch",id:"classic_serial",label:"Classic Serial",config:a,onChange:r})),c.a.createElement(ae,{onSave:l,title:"Display Settings",config:a},c.a.createElement(ie,{type:"number",id:"screen_dim_seconds",label:"Screen Dim (Seconds)",config:a,onChange:r}),c.a.createElement(ie,{type:"number",id:"screen_timeout_seconds",label:"Screen Timeout (Seconds)",config:a,onChange:r})),c.a.createElement(ae,{onSave:l,title:"Edging Control",config:a},c.a.createElement(ie,{type:"number",id:"motor_max_speed",label:"Motor Max Speed",config:a,onChange:r}),c.a.createElement(ie,{type:"number",id:"sensitivity_threshold",label:"Sensitivity Threshold",config:a,onChange:r}),c.a.createElement(ie,{type:"number",id:"motor_ramp_time_s",label:"Motor Ramp-up Time (Seconds)",config:a,onChange:r}),c.a.createElement(ie,{type:"number",id:"pressure_smoothing",label:"Pressure Smoothing Samples",config:a,onChange:r}),c.a.createElement(ie,{type:"number",id:"update_frequency_hz",label:"Update Frequency (Hz)",config:a,onChange:r}),c.a.createElement(ie,{type:"switch",id:"use_average_values",label:"Use Average Values",config:a,onChange:r})),c.a.createElement("div",{className:"card",style:{display:"none"}},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"card-title"},"Raw Settings"),c.a.createElement("pre",null,JSON.stringify(a,void 0,2)))),c.a.createElement(g.Button,{type:"button",className:"red darken-2",onClick:function(t){t.preventDefault(),e.send({serialCmd:{cmd:"restart"}})}},"Reboot Device"))},oe=function(){Object(i.useContext)(x);var e=Object(i.useContext)(L);return window.Bluetooth?c.a.createElement("div",null,c.a.createElement("h1",null,"Buttplug.io Connection"),e.state===M&&c.a.createElement(g.Button,{onClick:function(t){return e.startPairing()}},"Scan"),e.state===T&&c.a.createElement(g.Button,{onClick:function(t){return e.stopPairing()}},"Stop Scan")):c.a.createElement("div",null,"Unsupported browser. Use Chrome like a normal person.")},re=n(233),le=n.n(re),se=function(){var e=Object(i.useContext)(w),t=e.dir,n=e.send,a=Object($.f)().params[0]||"/",o=a.split("/").filter(Boolean),r=Object(i.useState)([]),l=Object(E.a)(r,2),s=l[0],m=l[1],d=Object(i.useState)(!0),u=Object(E.a)(d,2),f=u[0],h=u[1],p=function(){h(!0),t&&t(a,(function(e){var t=e.files;h(!1),m(t),console.log({files:t,pwd:a})}))};Object(i.useEffect)(p,[t,a]);var b=Object(v.a)(s).sort((function(e,t){var n=(e.dir?0:1)-(t.dir?0:1);return 0!==n?n:e.name>t.name?1:e.name<t.name?-1:0}));return c.a.createElement(g.Container,{style:{marginTop:"3rem",marginBottom:"3rem"}},c.a.createElement("div",{className:"header",style:{marginBottom:"3rem"}},c.a.createElement("div",{className:"right"},c.a.createElement(g.Button,{onClick:function(e){e.preventDefault();var t=prompt("New Directory Name");t&&function(e){n({mkdir:{path:[].concat(Object(v.a)(o),[e]).join("/"),nonce:function(e){p()}}})}(t)}},"Mkdir")),c.a.createElement("h1",{style:{fontSize:"1.2rem",marginTop:0,lineHeight:"2rem",verticalAlign:"middle"},className:"dir-listing"},c.a.createElement(D.b,{to:"/files/"},c.a.createElement("i",{className:"material-icons",style:{lineHeight:"2rem",verticalAlign:"middle",float:"left",height:"2rem"}},"home")),"\xa0",o.map((function(e,t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"dir-path-sep grey-text",style:{margin:"0 1rem"}},"/"),c.a.createElement(D.b,{to:"/files/"+o.slice(0,t+1).join("/")},e))})))),c.a.createElement("div",{className:"card"},!f&&c.a.createElement(g.Table,null,c.a.createElement("tbody",null,s.length<=0&&c.a.createElement("tr",null,c.a.createElement("td",{colSpan:2},c.a.createElement("div",{className:"center grey-text"},"No files here."))),b.map((function(e){return c.a.createElement("tr",{key:e.name,className:e.dir?"dir compact":"file"},c.a.createElement("td",null,c.a.createElement(g.Icon,{className:"left grey-text "+(e.dir?"primary-text":"")},e.dir?"folder":"insert_drive_file"),c.a.createElement(D.b,{to:(e.dir?"/files":"/file")+e.name},e.name.replace(/^.*\//g,""))),c.a.createElement("td",{align:"right",className:"right-align grey-text text-darken-1"},e.size?le()(e.size).toString():null),c.a.createElement("td",{align:"right",className:"right-align hide-unless-hover"},c.a.createElement("a",{href:"#"},c.a.createElement(g.Icon,null,"delete"))))})))),f&&c.a.createElement(g.ProgressBar,null)))},me=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"App",style:{minHeight:"100vh"}},c.a.createElement(D.a,null,c.a.createElement(k,null,c.a.createElement(P,null,c.a.createElement(S,null),c.a.createElement("div",{className:"content",style:{minHeight:"100vh",display:"flex",flexDirection:"column",flexGrow:1}},c.a.createElement(H,null),c.a.createElement("main",{style:{display:"flex",flexDirection:"column",flexGrow:1}},c.a.createElement($.c,null,c.a.createElement($.a,{exact:!0,path:"/"},c.a.createElement(_,null)),c.a.createElement($.a,{path:"/settings"},c.a.createElement(ce,null)),c.a.createElement($.a,{path:"/console"},c.a.createElement(te,null)),c.a.createElement($.a,{path:"/connect"},c.a.createElement(oe,null)),c.a.createElement($.a,{path:"/files/*"},c.a.createElement(se,null)))))))))}}]),n}(i.Component),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");de?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ue(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ue(t,e)}))}}()}},[[579,1,2]]]);
//# sourceMappingURL=main.b6b56f8d.chunk.js.map