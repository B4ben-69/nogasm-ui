{"version":3,"sources":["assets/MT_Logo_White_64h.png","DeviceProvider/Connect.js","DeviceProvider/index.js","Header/index.js","assets/EoM_Blueprint.svg","DeviceProvider/ButtplugProvider.js","Sidebar/index.js","LEDRing/index.js","Stats/Stat.js","Stats/index.js","Graph/index.js","pages/Dashboard.js","pages/Console.js","pages/Settings.js","pages/Buttplug.js","pages/FileManager.js","App.js","serviceWorker.js","index.js"],"names":["Connect","props","context","useContext","DeviceContext","console","log","useState","ip","setIp","className","style","minHeight","position","onSubmit","e","preventDefault","connect","top","left","transform","display","margin","width","src","logo","alt","autoFocus","s","disabled","state","ConnectionState","CONNECTING","type","label","id","onChange","target","value","DeviceMode","DISCONNECTED","CONNECTED","defaultState","config","readings","lastReading","mode","modeDisplay","info","deviceName","firmwareVersion","hardwareVersion","deviceSerial","status","wifi","sd","_ws_log","_serial_cb","React","createContext","send","data","onSerialCmd","fn","dir","path","cb","ReadingsContext","DeviceProvider","ws","defaultIP","window","location","hash","substring","deviceContext","bind","setSerialCb","readingsContext","nonceCb","callbacks","cbInfo","configList","cbConfigList","serialCmd","cbSerialCmd","wifiStatus","cbWifiStatus","sdStatus","cbSdStatus","cbReadings","cbMode","cbDir","this","setState","setDeviceState","device","fwVersion","hwVersion","serial","text","nonce","length","shift","push","setReadingsState","toLowerCase","Math","floor","random","Object","keys","forEach","k","mknonce","sendMessage","JSON","stringify","streamReadings","doc","_this","parse","warn","debug","recv","cmd","error","toast","html","classes","duration","wsProtocol","protocol","slice","Provider","url","onOpen","handleWsOpen","onClose","handleWsClose","ref","websocket","onMessage","handleWsMessage","children","Component","Header","alignLinks","brand","Fragment","href","Logo","height","menuIcon","options","draggable","edge","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","preventScrolling","icon","ssid","ButtplugState","devices","ButtplugContext","startPairing","stopPairing","ButtplugProvider","client","ButtplugClient","addListener","handleDevice","removeDevice","connector","Name","filter","d","Index","ButtplugEmbeddedClientConnector","then","StartScanning","catch","StopScanning","Disconnect","nextProps","nextContext","oldSpeed","motor","nextSpeed","speedPerc","max","min","map","SendVibrateCmd","SendStopDeviceCmd","contextType","Sidebar","buttplug","disconnected","fixed","user","background","blueprint","image","name","email","userView","i","klass","match","key","onClick","title","to","exact","activeClassName","divider","waves","radius","ledCount","rad","deg","PI","num","in_min","in_max","out_min","out_max","LEDRing","sensitivity_threshold","limit","pressure","arousal","pressureIdx","arousalIdx","leds","j","rot","x","sin","y","cos","l","h","color","glow","led","backgroundColor","boxShadow","opacity","headingStyle","fontSize","marginTop","fontWeight","valueStyle","verticalAlign","marginBottom","lineHeight","buttonStyle","padding","Stat","unit","round","step","v_disp","isNaN","dp","pow","flat","Stats","pavg","sens","sensor_sensitivity","p_kpa","add","configSet","flipped","setMotor","undefined","Graph","size","setSize","peakLimit","bounds","onResize","contentRect","measureRef","yAxisId","domain","orientation","vertical","stroke","dataKey","dot","strokeWidth","Dashboard","setMode","large","offLabel","checked","onLabel","Console","lines","setLines","line","setLine","endstop","useRef","serialCb","response","useEffect","current","scrollIntoView","behavior","flexGrow","flexDirection","overflow","cmd_m","cmd_i","index","substr","args","float","clear","lineObj","autoComplete","boxSizing","placeholder","SettingForm","onSave","toggle","c","isDirty","_dirty","indexOf","marginLeft","marginRight","SettingsInput","TextInput","m","Settings","configDraft","setConfig","preserve","handleChange","handleSave","Buttplug","Bluetooth","FileManager","getDir","pwd","useRouteMatch","params","pwdArr","split","Boolean","setDir","loading","setLoading","reload","files","sorted","sort","a","b","dircmp","filename","prompt","mkdir","join","colSpan","entry","replace","align","byteSize","toString","App","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","headers","contentType","get","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b6b56f8d.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbkAAABACAYAAACHvglNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMGJjNWJjNC0zZTk5LWNmNDItODY1NS1iZmFlYTk5YzdmODYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjQyOTQzMjgxODkyMTFFQkEyRERENEY0RDZCMTZDMkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjQyOTQzMjcxODkyMTFFQkEyRERENEY0RDZCMTZDMkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQzNTJjOWEtNTk0My0yNDQxLTg2NjctMTIyMGNhN2QyYzYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjMwYmM1YmM0LTNlOTktY2Y0Mi04NjU1LWJmYWVhOTljN2Y4NiIv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\"","import React, {useContext, useState} from 'react';\r\nimport  { DeviceContext } from './index.js'\r\nimport {Button, Row, TextInput} from \"react-materialize\";\r\nimport logo from '../assets/MT_Logo_White_64h.png'\r\nimport {ConnectionState} from \"./index\";\r\n\r\nconst Connect = (props) => {\r\n  const context = useContext(DeviceContext);\r\n  console.log(context);\r\n  const [ip, setIp] = useState(context.ip);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    context.connect(ip);\r\n  };\r\n\r\n  return (\r\n    <div className={'full-splash'} style={{ minHeight: '100vh', position: 'relative' }}>\r\n      <form onSubmit={handleSubmit} style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', display: 'block', margin: '0 auto', width: 300}}>\r\n        <img src={logo} alt={'Maus-Tec Logo'} />\r\n        <div className={'card'}>\r\n          <div className={'card-content'}>\r\n            <div className={'card-title'}>Connect Your Device</div>\r\n            <Row style={{ margin: '0.5rem -0.75rem 0 -0.75rem'}}>\r\n              <TextInput autoFocus s={12} disabled={ context.state === ConnectionState.CONNECTING } type={\"text\"} label={\"IP Address\"} id={'ip_address'} onChange={e => setIp(e.target.value)} />\r\n            </Row>\r\n\r\n            <Button type={\"submit\"} disabled={ context.state === ConnectionState.CONNECTING } style={{ display: 'block', width: '100%' }}>{ context.state === ConnectionState.CONNECTING ? 'Connecting...' : 'Connect' }</Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Connect;\r\n","import React, {Component} from 'react';\r\nimport Websocket from \"react-websocket\";\r\nimport Connect from \"./Connect\";\r\nimport {toast} from \"materialize-css\"\r\n\r\nexport const DeviceMode = {\r\n  MANUAL: \"manual\",\r\n  AUTOMATIC: \"automatic\"\r\n};\r\n\r\nexport const ConnectionState = {\r\n  DISCONNECTED: \"disconnected\",\r\n  CONNECTING: \"connecting\",\r\n  CONNECTED: \"connected\"\r\n};\r\n\r\nconst defaultState = {\r\n  ip: null,\r\n  state: ConnectionState.DISCONNECTED,\r\n  config: {},\r\n  readings: [],\r\n  lastReading: {},\r\n  mode: \"\",\r\n  modeDisplay: \"\",\r\n  info: {\r\n    deviceName: \"\",\r\n    firmwareVersion: \"\",\r\n    hardwareVersion: \"\",\r\n    deviceSerial: \"\"\r\n  },\r\n  status: {\r\n    wifi: {},\r\n    sd: {}\r\n  },\r\n  _ws_log: [],\r\n  _serial_cb: () => {}\r\n};\r\n\r\nconst DeviceContext = React.createContext({\r\n  ...defaultState,\r\n  connect: (ip) => {},\r\n  send: (data) => {},\r\n  onSerialCmd: (fn) => {},\r\n  dir: (path, cb) => {},\r\n});\r\n\r\nconst ReadingsContext = React.createContext({\r\n  readings: [],\r\n  lastReading: {}\r\n});\r\n\r\nclass DeviceProvider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.ws = null;\r\n\r\n    const defaultIP = window.location.hash && window.location.hash.substring(1);\r\n\r\n    this.state = {\r\n      deviceContext: {\r\n        ...defaultState,\r\n        ip: defaultIP,\r\n        state: defaultIP ? ConnectionState.CONNECTING : ConnectionState.DISCONNECTED,\r\n        connect: this.connect.bind(this),\r\n        send: this.send.bind(this),\r\n        onSerialCmd: this.setSerialCb.bind(this),\r\n        dir: this.dir.bind(this),\r\n      },\r\n      readingsContext: {\r\n        readings: [],\r\n        lastReading: {}\r\n      }\r\n    };\r\n\r\n    this.nonceCb = {};\r\n\r\n    /**\r\n     * Register functions here to handle messages from the\r\n     * device. These should point to methods in this object.\r\n     */\r\n    this.callbacks = {\r\n      info: this.cbInfo,\r\n      configList: this.cbConfigList,\r\n      serialCmd: this.cbSerialCmd,\r\n      wifiStatus: this.cbWifiStatus,\r\n      sdStatus: this.cbSdStatus,\r\n      readings: this.cbReadings,\r\n      mode: this.cbMode,\r\n      dir: this.cbDir,\r\n    };\r\n  }\r\n\r\n  setReadingsState(state = {}) {\r\n    this.setState({ readingsContext: {...this.state.readingsContext, ...state} });\r\n  }\r\n\r\n  setDeviceState(state = {}) {\r\n    this.setState({ deviceContext: {...this.state.deviceContext, ...state} });\r\n  }\r\n\r\n  /*\r\n   * Register Callbacks Here\r\n   */\r\n\r\n  cbDir(data) {\r\n    // noop - this is an nonce-usually command.\r\n  }\r\n\r\n  cbInfo(data) {\r\n    // {device: \"Edge-o-Matic 3000\", serial: \"\", hwVersion: \"\", fwVersion: \"0.1.2\"}\r\n    this.setDeviceState({ info: {\r\n        deviceName: data.device,\r\n        firmwareVersion: data.fwVersion,\r\n        hardwareVersion: data.hwVersion,\r\n        deviceSerial: data.serial\r\n    } });\r\n  }\r\n\r\n  cbConfigList(config) {\r\n    this.setDeviceState({ config });\r\n  }\r\n\r\n  cbSerialCmd({ text, nonce }) {\r\n    if (this.state.deviceContext._serial_cb) {\r\n      this.state.deviceContext._serial_cb({ text, nonce });\r\n    }\r\n  }\r\n\r\n  cbWifiStatus(status) {\r\n    this.setDeviceState({ status: {...this.state.deviceContext.status, wifi: status}});\r\n  }\r\n\r\n  cbSdStatus(status) {\r\n    this.setDeviceState({ status: {...this.state.deviceContext.status, sd: status}});\r\n  }\r\n\r\n  cbReadings(data) {\r\n    let readings = [...this.state.readingsContext.readings];\r\n\r\n    if (readings.length >= 100) {\r\n      readings.shift();\r\n    }\r\n\r\n    readings.push(data);\r\n\r\n    this.setReadingsState({\r\n      readings: readings,\r\n      lastReading: data\r\n    });\r\n  }\r\n\r\n  cbMode(data) {\r\n    this.setDeviceState({ mode: data.text.toLowerCase(), modeDisplay: data.text });\r\n  }\r\n\r\n  /*\r\n   * Public command helpers, which should* be abstracted to another module?\r\n   */\r\n  dir(path, cb) {\r\n    this.send({ dir: {\r\n      path, nonce: cb\r\n    }})\r\n  }\r\n\r\n  /*\r\n   * Internal State Things\r\n   */\r\n\r\n  mknonce(cb) {\r\n    const nonce = Math.floor(Math.random() * 1000000);\r\n    this.nonceCb[nonce] = cb;\r\n    return nonce;\r\n  }\r\n\r\n  send(data) {\r\n    if (this.ws) {\r\n      // Filter out nonce funcs:\r\n      Object.keys(data).forEach(k => {\r\n        if (data[k] && typeof data[k].nonce === 'function') {\r\n          data[k].nonce = this.mknonce(data[k].nonce);\r\n        }\r\n      })\r\n      this.setDeviceState({ _ws_log: [ ...this.state.deviceContext._ws_log, {send: data} ]});\r\n      this.ws.sendMessage(JSON.stringify(data));\r\n    }\r\n  }\r\n\r\n  connect(ip) {\r\n    let state = \"connecting\";\r\n\r\n    if (!ip) {\r\n      state = \"disconnected\";\r\n    } else if (ip === this.state.deviceContext.ip) {\r\n      state = this.state.deviceContext.state;\r\n    }\r\n\r\n    this.setDeviceState({ ip, state });\r\n  }\r\n\r\n  handleWsOpen() {\r\n    this.setDeviceState({state: 'connected'});\r\n    this.send({ streamReadings: true });\r\n    this.send({ info: null });\r\n    this.send({ configList: null });\r\n    console.log(\"Connected\");\r\n  }\r\n\r\n  handleWsClose() {\r\n    this.setDeviceState({state: 'disconnected'});\r\n    console.log(\"Closed.\");\r\n  }\r\n\r\n  handleWsMessage(data) {\r\n    const _this = this;\r\n    let doc;\r\n    try {\r\n      doc = JSON.parse(data);\r\n    } catch(e) {\r\n      doc = { data };\r\n      console.warn(e);\r\n    }\r\n\r\n    if (!doc.readings)\r\n      console.debug(\"handleWsMessage\", doc, data);\r\n\r\n    if (!doc.readings) {\r\n      let _ws_log = [...this.state.deviceContext._ws_log];\r\n\r\n      if (_ws_log.length >= 100) {\r\n        _ws_log.shift();\r\n      }\r\n\r\n      this.setDeviceState({_ws_log: [_ws_log, {recv: data}]});\r\n    }\r\n\r\n    Object.keys(doc).forEach(cmd => {\r\n      const data = doc[cmd];\r\n\r\n      // Automatically handle some common keys:\r\n      if (data) {\r\n        if (data.nonce && this.nonceCb[data.nonce]) {\r\n          this.nonceCb[data.nonce](data);\r\n          delete this.nonceCb[data.nonce];\r\n        }\r\n\r\n        if (data.error) {\r\n          toast({\r\n            html: data.error,\r\n            classes: 'red white-text',\r\n            duration: 3000\r\n          })\r\n        }\r\n      }\r\n\r\n      if (this.callbacks[cmd]) {\r\n        this.callbacks[cmd].bind(_this)(data);\r\n      } else {\r\n        console.warn(\"Received unknown command from device: \", cmd, doc[cmd]);\r\n      }\r\n    })\r\n  }\r\n\r\n  setSerialCb(fn) {\r\n    this.setDeviceState({ _serial_cb: fn });\r\n  }\r\n\r\n  render() {\r\n    const wsProtocol = \"ws\" + window.location.protocol.slice(4)\r\n\r\n    return (\r\n      <DeviceContext.Provider value={ this.state.deviceContext }>\r\n        <ReadingsContext.Provider value={ this.state.readingsContext }>\r\n          { this.state.deviceContext.ip && <Websocket\r\n            url={wsProtocol + '//' + this.state.deviceContext.ip}\r\n            onOpen={this.handleWsOpen.bind(this)}\r\n            onClose={this.handleWsClose.bind(this)}\r\n            ref={websocket => this.ws = websocket}\r\n            debug\r\n            onMessage={this.handleWsMessage.bind(this)}>\r\n          </Websocket> }\r\n          {/*{ this.props.children }*/}\r\n          { this.state.deviceContext.state === ConnectionState.CONNECTED && this.props.children }\r\n          { this.state.deviceContext.state !== ConnectionState.CONNECTED && <Connect /> }\r\n        </ReadingsContext.Provider>\r\n      </DeviceContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeviceProvider;\r\nexport { DeviceContext, ReadingsContext };\r\n","import React, {useContext, useState} from 'react'\r\nimport Logo from '../assets/MT_Logo_White_64h.png';\r\nimport {Icon, Navbar, NavItem} from \"react-materialize\";\r\nimport {DeviceContext} from \"../DeviceProvider\";\r\n\r\nconst wifiStrength = (rssi) => {\r\n  if (rssi < -90) {\r\n    return \"Very Low\"\r\n  } else if (rssi < -80) {\r\n    return \"Low\"\r\n  } else if (rssi < -70) {\r\n    return \"Good\"\r\n  } else if (rssi < -60) {\r\n    return \"Very Good\"\r\n  } else if (rssi < -50) {\r\n    return \"Excellent\"\r\n  } else if (rssi < 0) {\r\n    return \"Suspiciously Excellent\"\r\n  } else {\r\n    return \"Unknown\"\r\n  }\r\n};\r\n\r\nconst Header = (props) => {\r\n  const context = useContext(DeviceContext);\r\n\r\n  return(\r\n    <Navbar\r\n      alignLinks=\"right\"\r\n      brand={<React.Fragment>\r\n        <a className=\"brand-logo\" href=\"#\">\r\n          <img alt=\"Maus-Tec Logo\" src={Logo} height={18} />\r\n        </a>\r\n        <div className={'status'}>\r\n          { context.modeDisplay }\r\n        </div>\r\n      </React.Fragment>}\r\n      id=\"mobile-nav\"\r\n      menuIcon={<Icon>menu</Icon>}\r\n      options={{\r\n        draggable: true,\r\n        edge: 'left',\r\n        inDuration: 250,\r\n        onCloseEnd: null,\r\n        onCloseStart: null,\r\n        onOpenEnd: null,\r\n        onOpenStart: null,\r\n        outDuration: 200,\r\n        preventScrolling: true\r\n      }}\r\n    >\r\n      <NavItem href=\"\" icon={<Icon>wifi</Icon>}>\r\n        { context.status.wifi.ssid }\r\n      </NavItem>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/EoM_Blueprint.0814d075.svg\";","import React, {Component, createContext, useEffect} from 'react';\r\nimport {ButtplugClient, ButtplugEmbeddedClientConnector} from \"buttplug\";\r\nimport {DeviceContext, ReadingsContext} from \"./index\";\r\n\r\nconst ButtplugState = {\r\n  IDLE: 'idle',\r\n  PAIRING: 'pairing',\r\n  ERROR: 'error',\r\n  UNAVAILABLE: 'unavailable'\r\n};\r\n\r\nconst defaultState = {\r\n  devices: [],\r\n  state: ButtplugState.IDLE\r\n};\r\n\r\nconst ButtplugContext = createContext({\r\n  ...defaultState,\r\n  startPairing: () => {},\r\n  stopPairing: () => {}\r\n});\r\n\r\nclass ButtplugProvider extends Component {\r\n  static contextType = ReadingsContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.client = new ButtplugClient(\"Edge-o-Matic UI\");\r\n    this.client.addListener(\"deviceadded\", this.handleDevice.bind(this));\r\n    this.client.addListener(\"deviceremoved\", this.removeDevice.bind(this));\r\n    this.connector = null;\r\n\r\n    this.state = {\r\n      ...defaultState,\r\n      startPairing: this.startPairing.bind(this),\r\n      stopPairing: this.stopPairing.bind(this)\r\n    }\r\n  }\r\n\r\n  handleDevice(device) {\r\n    console.log(\"Device added: \", device.Name);\r\n    this.setState({ devices: [...this.state.devices, device] });\r\n  }\r\n\r\n  removeDevice(device) {\r\n    console.log(\"Device removed: \", device.Name);\r\n    this.setState({ devices: this.state.devices.filter(d => d.Index !== device.Index)});\r\n  }\r\n\r\n  startPairing() {\r\n    this.setState({ state: ButtplugState.PAIRING });\r\n    this.connector = new ButtplugEmbeddedClientConnector();\r\n\r\n    console.log(\"Connecting...\");\r\n\r\n    this.client.Connect(this.connector)\r\n      .then(() => {\r\n        console.log(\"Starting scan...\");\r\n        this.client.StartScanning()\r\n          .then(() => {\r\n            console.log(\"Connected.\");\r\n            this.setState({ state: ButtplugState.IDLE });\r\n          })\r\n          .catch((e) => {\r\n            console.error(e);\r\n            this.setState({ state: ButtplugState.IDLE });\r\n          });\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        this.setState({ state: ButtplugState.IDLE });\r\n      });\r\n  }\r\n\r\n  stopPairing() {\r\n    this.setState({ state: ButtplugState.IDLE });\r\n    console.log(\"Stopping scan...\");\r\n    this.client.StopScanning()\r\n      .then(() => {\r\n        console.log(\"Disconnecting...\");\r\n        this.client.Disconnect()\r\n          .then(console.log)\r\n          .catch((e) => {\r\n            console.error(e);\r\n            this.setState({ state: ButtplugState.IDLE });\r\n          });\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        this.setState({ state: ButtplugState.IDLE });\r\n      });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    const oldSpeed = this.context.lastReading.motor;\r\n    const nextSpeed = nextContext.lastReading.motor;\r\n\r\n    if (oldSpeed !== nextSpeed) {\r\n      const speedPerc = Math.max(Math.min(1, nextSpeed / 255), 0);\r\n\r\n      this.state.devices.map(device => {\r\n        if (speedPerc > 0) {\r\n          device.SendVibrateCmd(speedPerc)\r\n            .then()\r\n            .catch(console.error);\r\n        } else {\r\n          device.SendStopDeviceCmd()\r\n            .then()\r\n            .catch(console.error);\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <ButtplugContext.Provider value={this.state}>\r\n        { children }\r\n      </ButtplugContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ButtplugProvider;\r\nexport { ButtplugContext, ButtplugState };\r\n","import React, {useContext, useState} from 'react'\r\nimport {Button, Icon, SideNav, SideNavItem} from \"react-materialize\";\r\nimport blueprint from '../assets/EoM_Blueprint.svg';\r\nimport Connect from \"../DeviceProvider/Connect\";\r\nimport {DeviceContext} from \"../DeviceProvider\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {ButtplugContext, ButtplugState} from \"../DeviceProvider/ButtplugProvider\";\r\nimport './index.scss'\r\n\r\nconst Sidebar = () => {\r\n  const context = useContext(DeviceContext);\r\n  const buttplug = useContext(ButtplugContext);\r\n  const connecting = context.state === 'connecting';\r\n  const connected = context.state === 'connected';\r\n  const disconnected = context.state === 'disconnected';\r\n\r\n  return (\r\n    <SideNav\r\n      id=\"SideNav\"\r\n      options={{\r\n        draggable: true\r\n      }}\r\n      fixed\r\n    >\r\n      <SideNavItem\r\n        user={{\r\n          background: blueprint,\r\n          image: blueprint,\r\n          name: context.state === 'connecting' ? \"Connecting...\" : (context.info.deviceName || \"Unknown Device\"),\r\n          email: context.ip || \"Disconnected\"\r\n        }}\r\n        userView\r\n      />\r\n\r\n      { buttplug.devices.map((device, i) => {\r\n        let klass = \"\";\r\n\r\n        if (device.Name && device.Name.match(/lovense/i)) {\r\n          klass = \"lovense\";\r\n        }\r\n\r\n        return (<li className={'buttplug-device ' + klass} key={i}>\r\n          <div className=\"device-name\">{ device.Name }</div>\r\n          <div className=\"status\" />\r\n          <a href={'#'} className=\"disconnect\" onClick={e => e.preventDefault() } title={'Pause Control'}>\r\n            <Icon>pause</Icon>\r\n          </a>\r\n        </li>);\r\n      })}\r\n\r\n      <li><NavLink to={\"/\"} exact activeClassName={'primary-dark white-text'}><Icon className={'prefix'}>dashboard</Icon> Dashboard</NavLink></li>\r\n      <li><NavLink to={\"/settings\"} activeClassName={'primary-dark white-text'}><Icon className={'prefix'}>settings</Icon> Settings</NavLink></li>\r\n      <li><NavLink to={\"/console\"} activeClassName={'primary-dark white-text'}><Icon className={'prefix'}>code</Icon> Serial Console</NavLink></li>\r\n      <li><NavLink to={\"/files\"} activeClassName={'primary-dark white-text'}><Icon className={'prefix'}>folder_open</Icon> File Manager</NavLink></li>\r\n\r\n      {/*<SideNavItem href=\"#!second\">*/}\r\n        {/*Second Link*/}\r\n      {/*</SideNavItem>*/}\r\n\r\n      {/*<SideNavItem subheader>*/}\r\n        {/*Subheader*/}\r\n      {/*</SideNavItem>*/}\r\n\r\n      { !disconnected && <React.Fragment>\r\n        <SideNavItem divider />\r\n\r\n        { buttplug.state === ButtplugState.IDLE && <SideNavItem\r\n          href={'#!buttplug'}\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            buttplug.startPairing()\r\n          }}\r\n          waves\r\n          icon={<Icon>bluetooth</Icon>}\r\n        >\r\n          Pair Device\r\n        </SideNavItem> }\r\n\r\n        { buttplug.state === ButtplugState.PAIRING && <SideNavItem\r\n          href={'#!buttplug'}\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            buttplug.stopPairing()\r\n          }}\r\n          waves\r\n          icon={<Icon>bluetooth</Icon>}\r\n        >\r\n          Cancel Pairing\r\n        </SideNavItem> }\r\n\r\n        <SideNavItem\r\n          href=\"#!disconnect\"\r\n          onClick={e => {\r\n            e.preventDefault(); context.connect(null)\r\n          }}\r\n          waves\r\n          icon={<Icon>close</Icon>}\r\n        >\r\n          Disconnect\r\n        </SideNavItem>\r\n      </React.Fragment> }\r\n    </SideNav>\r\n  )\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, {useContext} from 'react'\r\nimport './index.scss'\r\nimport {DeviceContext, ReadingsContext} from \"../DeviceProvider\";\r\n\r\nconst radius = 300;\r\nconst ledCount = 13;\r\nconst startDeg = 40;\r\nconst endDeg = 360 - startDeg;\r\nconst interval = ((endDeg - startDeg) / (ledCount-1));\r\n\r\nconst rad = (deg) => deg * (Math.PI / 180);\r\n\r\nconst map = (num, in_min, in_max, out_min, out_max) => {\r\n  return (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\r\n};\r\n\r\nconst LEDRing = (props) => {\r\n  const context = useContext(DeviceContext);\r\n  const readings = useContext(ReadingsContext);\r\n\r\n  const {\r\n    config: {\r\n      sensitivity_threshold: limit = 0\r\n    }\r\n  } = context;\r\n\r\n  const {\r\n    lastReading: {\r\n      pressure = 0,\r\n      arousal = 0,\r\n    }\r\n  } = readings;\r\n\r\n  const pressureIdx = Math.floor(map(pressure, 0, 4096, 0, ledCount - 1));\r\n  const limitIdx = Math.floor(map(limit, 0, 4096, 0, ledCount - 1));\r\n  const arousalIdx = Math.floor(map(arousal, 0, limit, 0, ledCount - 1));\r\n\r\n  let leds = [];\r\n  const showLimit = false;\r\n\r\n  for (let i = 0; i < ledCount; i++) {\r\n    const j = ledCount - i -1;\r\n    const rot = startDeg + (interval * i);\r\n    const x = (Math.sin(rad(rot)) * radius / 2) + radius / 2;\r\n    const y = (Math.cos(rad(rot)) * radius / 2) + radius / 2;\r\n    let l = 50;\r\n    let h = 0;\r\n\r\n    if (j === pressureIdx) {\r\n      h = 290;\r\n      l = 75;\r\n    } else if (j === limitIdx && showLimit) {\r\n      h = 210;\r\n      l = 75;\r\n    } else if (j < arousalIdx) {\r\n      h = map(i, 0, ledCount - 1, 0, 120);\r\n    } else {\r\n      l = 100;\r\n    }\r\n\r\n    leds[i] = { color: `hsl(${h}, 100%, ${l}%)`, x, y, rot, glow: l < 100 }\r\n  }\r\n\r\n  return (\r\n    <div className={'led-ring'} style={{ width: radius, height: radius, ...props.style }}>\r\n      { leds.map((led, i) =>\r\n        <div className={'led led-' + i} key={i} style={{\r\n          backgroundColor: led.color,\r\n          left: led.x,\r\n          top: led.y,\r\n          transform: `translate(-50%, -50%) rotate(-${led.rot}deg)`,\r\n          boxShadow: (led.glow ? `0 0 10px 3px ${led.color}` : \"\"),\r\n          opacity: (led.glow ? 1.0 : 0.8)\r\n        }} />)}\r\n\r\n      {/*<div className={'led-value'}>{ Math.floor(arousal / limit * 100) }%</div>*/}\r\n      {/*<div className={'led-stat'}>Arousal</div>*/}\r\n      { props.children }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default LEDRing;\r\n","import React from \"react\";\r\nimport {Button, Icon} from \"react-materialize\";\r\n\r\nconst headingStyle = {\r\n  fontSize: '1.9rem',\r\n  marginTop: 0,\r\n  fontWeight: '300'\r\n};\r\n\r\nconst valueStyle = {\r\n  verticalAlign: 'middle',\r\n  fontWeight: '300',\r\n  marginTop: 0,\r\n  marginBottom: 0,\r\n  fontSize: '4rem',\r\n  lineHeight: '4rem'\r\n};\r\n\r\nconst buttonStyle = {\r\n  margin: '0 0.5rem 0 0',\r\n  height: '4rem',\r\n  lineHeight: '4rem',\r\n  verticalAlign: 'middle',\r\n  padding: '0 5px'\r\n};\r\n\r\nconst Stat = ({name, value = '?', style = {}, onChange, unit, round, max = 0, step = 1}) => {\r\n  let v_disp = value;\r\n\r\n  if (max > 0 && !isNaN(value / max)) {\r\n    value = (value / max) * 100;\r\n    unit = '%';\r\n    v_disp = value;\r\n  }\r\n\r\n  if (value % 1) {\r\n    let dp = 2;\r\n    if (round || value > 100) {\r\n      dp = 0;\r\n    } else {\r\n      if (value >= 10) dp = 1;\r\n    }\r\n\r\n    v_disp = Math.floor(value * Math.pow(10, dp)) / Math.pow(10, dp);\r\n  }\r\n\r\n  if (isNaN(v_disp)) {\r\n    v_disp = '?';\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h4 style={{...headingStyle, ...style}} className=\"stat-heading center primary-text\">{name}</h4>\r\n      <h1 className={'stat-value center primary-light-text'} style={valueStyle}>\r\n        {onChange && <Button flat onClick={e => onChange(-1 * step)} className={'primary-dark-text'}\r\n                             style={buttonStyle}><Icon>keyboard_arrow_down</Icon></Button>}\r\n        {v_disp}\r\n        { unit && <span style={{ fontSize: '1.2rem'}}> { unit }</span> }\r\n        {onChange && <Button flat onClick={e => onChange(step)} className={'primary-dark-text'}\r\n                             style={{...buttonStyle, margin: '0 0 0 0.5rem'}}><Icon>keyboard_arrow_up</Icon></Button>}\r\n      </h1>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Stat;\r\n","import React, {useContext, useState} from 'react'\r\nimport LEDRing from \"../LEDRing\";\r\nimport Stat from \"./Stat\";\r\nimport {DeviceContext, DeviceMode, ReadingsContext} from \"../DeviceProvider\";\r\nimport {Switch} from \"react-materialize\";\r\n\r\nconst Stats = () => {\r\n  const context = useContext(DeviceContext);\r\n  const readings = useContext(ReadingsContext);\r\n\r\n  const onSensitivityChange = (add) => {\r\n    let { sensor_sensitivity = 0 } = context.config;\r\n    sensor_sensitivity += add;\r\n    context.send({\r\n      configSet: {\r\n        sensor_sensitivity\r\n      }\r\n    });\r\n  };\r\n\r\n  const onPeakLimitChange = (add) => {\r\n    let { sensitivity_threshold = 0 } = context.config;\r\n    sensitivity_threshold += add;\r\n    context.send({\r\n      configSet: {\r\n        sensitivity_threshold\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSpeedChange = (add) => {\r\n    let { motor = 0 } = readings.lastReading;\r\n    motor += add;\r\n    context.send({\r\n      setMotor: motor\r\n    });\r\n  };\r\n\r\n  const pavg = readings.lastReading.pavg || 0;\r\n  const sens = context.config.sensor_sensitivity;\r\n  const p_kpa_max = Math.floor(100 * ((255 - sens) / 255));\r\n  const p_perc = pavg / 4095;\r\n  const p_kpa = p_perc * p_kpa_max;\r\n\r\n  return (\r\n    <div className={'row'}>\r\n      <div className={'col s12 m3'}>\r\n        <Stat name={\"Pressure\"} value={p_kpa} unit={'kPa'} round />\r\n        <Stat name={\"Sensitivity\"} round max={ 255 } step={ 2 } onChange={ onSensitivityChange } value={context.config.sensor_sensitivity} style={{ marginTop: '5rem' }}/>\r\n      </div>\r\n\r\n      <div className={'col s12 m6'}>\r\n        <LEDRing style={{ margin: '15px auto' }}>\r\n          <Stat name={\"Arousal\"} value={readings.lastReading.arousal} flipped max={ context.config.sensitivity_threshold } round />\r\n        </LEDRing>\r\n      </div>\r\n\r\n      <div className={'col s12 m3'}>\r\n        <Stat name={\"Speed\"} onChange={ context.mode === DeviceMode.MANUAL ? onSpeedChange : undefined } step={ 7 } value={(readings.lastReading.motor / 255) * 100} round unit={'%'} />\r\n        <Stat name={\"Arousal Limit\"} onChange={ onPeakLimitChange } value={context.config.sensitivity_threshold} style={{ marginTop: '5rem' }}/>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Stats;\r\n","import React, {useContext, useState} from 'react'\r\nimport {CartesianGrid, Legend, Line, LineChart, ReferenceLine, YAxis} from \"recharts\";\r\nimport {DeviceContext, ReadingsContext} from \"../DeviceProvider\";\r\nimport Measure from \"react-measure\";\r\n\r\nconst Graph = (props) => {\r\n  const context = useContext(DeviceContext);\r\n  const readings = useContext(ReadingsContext);\r\n  const [size, setSize] = useState({width: 0, height: 300});\r\n\r\n  const {\r\n    config: {\r\n      peakLimit\r\n    }\r\n  } = context;\r\n\r\n  const {\r\n    readings: data\r\n  } = readings;\r\n\r\n  return (\r\n    <Measure bounds onResize={contentRect => setSize(contentRect.bounds)}>\r\n      {({ measureRef }) => (\r\n        <div style={{ height: 300 }} ref={measureRef}>\r\n          <LineChart width={size.width} height={size.height} data={data}>\r\n            <YAxis yAxisId={0} domain={[0, 4096]} />\r\n            <YAxis yAxisId={1} domain={[0, 255]} label={\"%\"} orientation={\"right\"} />\r\n            <Legend />\r\n            <CartesianGrid vertical={false} stroke={\"#333333\"} />\r\n            <ReferenceLine y={peakLimit} label={\"Arousal Limit\"} stroke={\"#b71c1c\"} />\r\n\r\n            <Line name=\"Pressure\" type={\"monotone\"} dataKey={\"pressure\"} yAxisId={0} dot={false} stroke={\"#81c784\"} />\r\n            <Line name=\"Motor Speed\" type={\"step\"} dataKey={\"motor\"} yAxisId={1} dot={false} stroke={\"#ffab40\"} />\r\n            <Line name=\"Arousal\" type={\"linear\"} dataKey={\"arousal\"} strokeWidth={2} yAxisId={0} dot={false} stroke={\"#ff3d00\"} />\r\n          </LineChart>\r\n        </div>\r\n      )}\r\n    </Measure>\r\n  )\r\n};\r\n\r\nexport default Graph\r\n","import React, {useContext, useState} from 'react';\r\nimport Stats from \"../Stats\";\r\nimport Graph from \"../Graph\";\r\nimport {Button, Container, Switch} from \"react-materialize\";\r\nimport {DeviceContext, DeviceMode, ReadingsContext} from \"../DeviceProvider\";\r\n\r\nconst Dashboard = () => {\r\n  const context = useContext(DeviceContext);\r\n  const readings = useContext(ReadingsContext);\r\n\r\n  const onModeChange = (e) => {\r\n    const auto = e.target.checked;\r\n    const mode = auto ? DeviceMode.AUTOMATIC : DeviceMode.MANUAL;\r\n    context.send({ setMode: mode });\r\n  };\r\n\r\n  const onStop = (e) => {\r\n    e.preventDefault();\r\n\r\n    context.send({\r\n      setMode: DeviceMode.MANUAL,\r\n      setMotor: 0\r\n    });\r\n  };\r\n\r\n  const onJizzumPermitted = (e) => {\r\n    e.preventDefault();\r\n\r\n    context.send({\r\n      setMode: DeviceMode.MANUAL,\r\n      setMotor: 255\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container style={{ marginTop: '3rem' }}>\r\n      <Stats />\r\n\r\n      <div className={'row'} style={{ marginTop: '3rem' }}>\r\n        <div className={'col s12 m4'}>\r\n          <Button onClick={onStop} large disabled={ readings.lastReading.motor === 0} className={'red darken-2 block'}>STOP!</Button>\r\n        </div>\r\n        <div className={'col s12 m4'}>\r\n          <div className={'center'} style={{ lineHeight: '54px' }}>\r\n            <Switch\r\n              id=\"ModeSwitch\"\r\n              offLabel=\"Manual\"\r\n              onChange={onModeChange}\r\n              onLabel=\"Automatic\"\r\n              checked={context.mode === DeviceMode.AUTOMATIC}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className={'col s12 m4'}>\r\n          <Button onClick={onJizzumPermitted} large disabled={ context.mode !== DeviceMode.AUTOMATIC } className={'green darken-2 block'}>Allow Orgasm</Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={'row'}>\r\n        <div className={'col s12'}>\r\n          <div className={'card'}>\r\n            <div className={'card-content'}>\r\n              <Graph />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, {useRef, useContext, useEffect, useState} from 'react'\r\nimport {Button} from \"react-materialize\";\r\nimport {DeviceContext} from \"../DeviceProvider\";\r\n\r\nconst Console = () => {\r\n  const context = useContext(DeviceContext);\r\n  const [lines, setLines] = useState({});\r\n  const [line, setLine] = useState(\"\");\r\n  const endstop = useRef(null);\r\n\r\n  const serialCb = ({ text, nonce }) => {\r\n    let l = {...lines};\r\n    console.log({text, nonce, lines, l});\r\n    if (!l[nonce]) {\r\n      l[nonce] = {\r\n        line: \"\"\r\n      };\r\n    }\r\n    l[nonce].response = text;\r\n    setLines(l);\r\n  };\r\n\r\n  useEffect(() => {\r\n    context.onSerialCmd(serialCb);\r\n    endstop.current.scrollIntoView({ behavior: 'smooth' });\r\n  }, [lines]);\r\n\r\n\r\n  const handleSend = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (line === \"clear\") {\r\n      setLine(\"\");\r\n      setLines({});\r\n      return;\r\n    }\r\n\r\n    const lineObj = {\r\n      line,\r\n      response: null\r\n    };\r\n\r\n    const nonce = Object.keys(lines).length + 1;\r\n    setLines({...lines, [nonce]: lineObj});\r\n    context.send({ serialCmd: { nonce, cmd: line }});\r\n    setLine(\"\");\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    setLine(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={'fullscreen-view'} style={{ display: 'flex', flexGrow: 1, flexDirection: 'column' }}>\r\n      <pre style={{ margin: 0, padding: '0.5rem 1.5rem 1.5rem 1.5rem', flexGrow: 1, height: 100, overflow: 'auto' }}>\r\n        { Object.keys(lines).map(key => {\r\n          const l = lines[key];\r\n          const cmd_m = l.line.match(/\\s+/);\r\n          const cmd_i = cmd_m ? cmd_m.index : l.line.length;\r\n          const [cmd, args] = [\r\n            l.line.substr(0, cmd_i),\r\n            l.line.substr(cmd_i + 1)\r\n          ];\r\n\r\n          return (\r\n            <code key={key} style={{ marginTop: '1rem', display: 'block' }}>\r\n              <div><span className={'grey-text'}>&gt;</span> <span className={'primary-light-text'}>{ cmd }</span> <span>{ args }</span></div>\r\n              { l.response && <div>{ l.response }</div> }\r\n            </code>\r\n          )\r\n        })}\r\n        <div style={{ float: 'left', clear: 'both' }} ref={endstop} />\r\n      </pre>\r\n      <form onSubmit={handleSend} style={{ display: 'flex' }}>\r\n        <input type={'text'}\r\n               className={'grey darken-3'}\r\n               autoComplete={'off'}\r\n               style={{\r\n                 boxSizing: 'border-box', padding: '0 1.5rem',\r\n                 margin: 0, flexGrow: 1\r\n               }}\r\n               name={'cmd'}\r\n               value={line}\r\n               onChange={handleChange}\r\n               placeholder={\"Command...\"}\r\n        />\r\n        <Button disabled={ line === \"\" } type={'submit'} style={{ height: '3rem' }}>Send</Button>\r\n      </form>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Console;\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport {Button, Col, Container, Row, Switch, TextInput} from \"react-materialize\";\r\nimport {DeviceContext} from \"../DeviceProvider\";\r\n\r\nconst SettingForm = ({onSave, keys=[], config, title, toggle, children}) => {\r\n  if (children && children.map) {\r\n    children.map(c => {\r\n      keys.push(c.props.id);\r\n    });\r\n  } else if (children.props) {\r\n    keys.push(children.props.id);\r\n  }\r\n\r\n  if (toggle && toggle.props) {\r\n    keys.push(toggle.props.id);\r\n  }\r\n\r\n  const isDirty = config._dirty.filter(k => keys.indexOf(k) >= 0).length > 0;\r\n\r\n  return (\r\n    <form onSubmit={onSave(keys)}>\r\n      <div className={'card'}>\r\n        <div className={'card-content'}>\r\n          <div className={'card-title'} style={{marginBottom: '1.5rem'}}>\r\n            { toggle && <div className={'right'}>\r\n              { toggle }\r\n            </div> }\r\n            {title}\r\n          </div>\r\n          <Row style={{marginLeft: '-0.75rem', marginRight: '-0.75rem', marginBottom: 0}}>\r\n            {children}\r\n          </Row>\r\n        </div>\r\n        <div className={'card-action right-align'}>\r\n          <Button type={'submit'} disabled={!isDirty}>Save</Button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nconst SettingsInput = ({onChange, config, Component = TextInput, type='text', s=12, m=12, label, id, ...props }) => {\r\n  if (type === 'switch') {\r\n    const toggle = (\r\n      <Switch onLabel={'On'}\r\n              offLabel={'Off'}\r\n              checked={!!config[id]}\r\n              onChange={onChange}\r\n              id={id}\r\n              name={id}\r\n              {...props}\r\n      />\r\n    );\r\n\r\n    if (label === \"\") {\r\n      return toggle\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <Col s={12} m={6}>{ label }</Col>\r\n          <Col s={12} m={6} className={'right-align'}>{ toggle }</Col>\r\n        </React.Fragment>\r\n      )\r\n    }\r\n  }\r\n  return (\r\n    <Component name={id}\r\n               id={id}\r\n               s={s}\r\n               m={m}\r\n               label={label}\r\n               type={type}\r\n               value={config[id] || \"\"}\r\n               onChange={onChange}\r\n               {...props}\r\n    />\r\n  )\r\n};\r\n\r\nconst Settings = () => {\r\n  const context = useContext(DeviceContext);\r\n  const [configDraft, setConfig] = useState({...context.config, _dirty: []});\r\n\r\n  useEffect(() => {\r\n    const preserve = {};\r\n\r\n    configDraft._dirty.map(k => {\r\n      preserve[k] = configDraft[k];\r\n    });\r\n\r\n    setConfig({...context.config, ...preserve, _dirty: configDraft._dirty});\r\n  }, [context.config]);\r\n\r\n  const handleChange = (e) => {\r\n    const {name, value, checked, type} = e.target;\r\n    const config = {...configDraft};\r\n\r\n    if (type === 'checkbox') {\r\n      config[name] = checked;\r\n    } else {\r\n      config[name] = value;\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (config._dirty.indexOf(name) < 0)\r\n      config._dirty.push(name);\r\n\r\n    setConfig(config);\r\n  };\r\n\r\n  const handleSave = (keys) => (e) => {\r\n    e.preventDefault();\r\n    let config = {};\r\n\r\n    configDraft._dirty.map(k => {\r\n      if (keys.indexOf(k) >= 0)\r\n        config[k] = configDraft[k];\r\n    });\r\n\r\n    console.log({keys, configDraft, config});\r\n\r\n    context.send({configSet: config});\r\n    setConfig({\r\n      ...configDraft,\r\n      _dirty: configDraft._dirty.filter(k => keys.indexOf(k) === -1)\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container style={{marginTop: '3rem', marginBottom: '3rem'}}>\r\n      <SettingForm onSave={handleSave} title={\"WiFi Connection\"} config={configDraft}\r\n                   toggle={<SettingsInput type={'switch'} id={'wifi_on'} config={configDraft} onChange={handleChange} />}>\r\n        <SettingsInput config={configDraft} onChange={handleChange} id={'wifi_ssid'} label={'Network SSID'} />\r\n        <SettingsInput config={configDraft} onChange={handleChange} id={'wifi_key'} label={'Network Password'} type={'password'} />\r\n      </SettingForm>\r\n\r\n      <SettingForm onSave={handleSave} title={'Bluetooth Connection'} config={configDraft}\r\n                   toggle={<SettingsInput type={'switch'} id={'bt_on'} config={configDraft} onChange={handleChange} />}>\r\n        <SettingsInput config={configDraft} onChange={handleChange} id={'bt_display_name'} label={'Bluetooth Display Name'} />\r\n      </SettingForm>\r\n\r\n      <SettingForm onSave={handleSave} title={'Remote Control'} config={configDraft}>\r\n        <SettingsInput type={'number'} id={'websocket_port'} label={'Websocket Port'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'switch'} id={'classic_serial'} label={'Classic Serial'} config={configDraft} onChange={handleChange} />\r\n      </SettingForm>\r\n\r\n      <SettingForm onSave={handleSave} title={'Display Settings'} config={configDraft}>\r\n        <SettingsInput type={'number'} id={'screen_dim_seconds'} label={'Screen Dim (Seconds)'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'number'} id={'screen_timeout_seconds'} label={'Screen Timeout (Seconds)'} config={configDraft} onChange={handleChange} />\r\n      </SettingForm>\r\n\r\n      <SettingForm onSave={handleSave} title={'Edging Control'} config={configDraft}>\r\n        <SettingsInput type={'number'} id={'motor_max_speed'} label={'Motor Max Speed'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'number'} id={'sensitivity_threshold'} label={'Sensitivity Threshold'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'number'} id={'motor_ramp_time_s'} label={'Motor Ramp-up Time (Seconds)'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'number'} id={'pressure_smoothing'} label={'Pressure Smoothing Samples'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'number'} id={'update_frequency_hz'} label={'Update Frequency (Hz)'} config={configDraft} onChange={handleChange} />\r\n        <SettingsInput type={'switch'} id={'use_average_values'} label={'Use Average Values'} config={configDraft} onChange={handleChange} />\r\n      </SettingForm>\r\n\r\n      <div className={'card'} style={{ display: 'none'}}>\r\n        <div className={'card-content'}>\r\n          <div className={'card-title'}>Raw Settings</div>\r\n          <pre>\r\n            {JSON.stringify(configDraft, undefined, 2)}\r\n          </pre>\r\n        </div>\r\n      </div>\r\n\r\n      <Button type={'button'} className={'red darken-2'} onClick={e => {\r\n        e.preventDefault();\r\n        context.send({serialCmd: {cmd: 'restart'}})\r\n      }}>\r\n        Reboot Device\r\n      </Button>\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default Settings;\r\n","import React, {useContext} from 'react'\r\nimport {Button} from \"react-materialize\";\r\nimport {ReadingsContext} from \"../DeviceProvider\";\r\nimport {ButtplugContext, ButtplugState} from \"../DeviceProvider/ButtplugProvider\";\r\n\r\nconst Buttplug = () => {\r\n  const readings = useContext(ReadingsContext);\r\n  const buttplug = useContext(ButtplugContext);\r\n\r\n  if (!window.Bluetooth) {\r\n    return <div>Unsupported browser. Use Chrome like a normal person.</div>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Buttplug.io Connection</h1>\r\n      { (buttplug.state === ButtplugState.IDLE) && <Button onClick={e => buttplug.startPairing()}>Scan</Button> }\r\n      { (buttplug.state === ButtplugState.PAIRING) && <Button onClick={e => buttplug.stopPairing()}>Stop Scan</Button> }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Buttplug;\r\n","import React, {useContext, useEffect, useState} from \"react\"\r\nimport {Button, Icon, ProgressBar, Table, Container} from \"react-materialize\"\r\nimport {useRouteMatch, Link} from \"react-router-dom\"\r\nimport {DeviceContext} from \"../DeviceProvider\"\r\nimport byteSize from 'byte-size'\r\n\r\nconst FileManager = () => {\r\n  const { dir: getDir, send } = useContext(DeviceContext);\r\n  const { params } = useRouteMatch()\r\n  const pwd = params[0] || \"/\"\r\n  const pwdArr = pwd.split('/').filter(Boolean)\r\n\r\n  const [dir, setDir] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const reload = () => {\r\n    setLoading(true)\r\n    getDir && getDir(pwd, ({files}) => {\r\n      setLoading(false)\r\n      setDir(files)\r\n      console.log({files, pwd});\r\n    });\r\n  }\r\n\r\n  const mkdir = (filename) => {\r\n    send({\r\n      mkdir: {\r\n        path: [...pwdArr, filename].join('/'),\r\n        nonce: (data) => {\r\n          reload();\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleMkdir = (e) => {\r\n    e.preventDefault();\r\n    const filename = prompt(\"New Directory Name\");\r\n    filename && mkdir(filename);\r\n  }\r\n\r\n  useEffect(reload, [getDir, pwd]);\r\n\r\n  const sorted = [...dir].sort((a, b) => {\r\n    const dircmp = (a.dir ? 0 : 1) - (b.dir ? 0 : 1)\r\n    if (dircmp !== 0) {\r\n      return dircmp;\r\n    }\r\n    else if (a.name > b.name) {\r\n      return 1;\r\n    }\r\n    else if (a.name < b.name) {\r\n      return -1;\r\n    }\r\n    else {\r\n      return 0;\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Container style={{marginTop: '3rem', marginBottom: '3rem'}}>\r\n      <div className={'header'} style={{ marginBottom: '3rem'}}>\r\n        <div className={'right'}>\r\n          <Button onClick={handleMkdir}>Mkdir</Button>\r\n        </div>\r\n        <h1 style={{ fontSize: '1.2rem', marginTop: 0, lineHeight: '2rem', verticalAlign: 'middle'}} className={'dir-listing'}>\r\n          <Link to={'/files/'}><i className={'material-icons'} style={{ lineHeight: '2rem', verticalAlign: 'middle', float: 'left', height: '2rem'}}>home</i></Link>\r\n          &nbsp;\r\n          { pwdArr.map((dir, i) =>\r\n            <React.Fragment>\r\n              <span className={'dir-path-sep grey-text'} style={{ margin: '0 1rem' }}>/</span>\r\n              <Link to={'/files/' + pwdArr.slice(0, i + 1).join('/')}>{ dir }</Link>\r\n            </React.Fragment>) }\r\n        </h1>\r\n      </div>\r\n\r\n      <div className={'card'}>\r\n        { !loading && <Table>\r\n          <tbody>\r\n          { dir.length <= 0 && <tr>\r\n            <td colSpan={2}>\r\n              <div className={'center grey-text'}>No files here.</div>\r\n            </td>\r\n          </tr>}\r\n            { sorted.map(entry => (\r\n              <tr key={entry.name} className={entry.dir ? 'dir compact' : 'file'}>\r\n                <td>\r\n                  <Icon className={'left grey-text ' + (entry.dir ? 'primary-text' : '')}>{ entry.dir ? \"folder\" : \"insert_drive_file\" }</Icon>\r\n                  <Link to={(entry.dir ? '/files' : '/file') + entry.name}>\r\n                    {entry.name.replace(/^.*\\//g, '')}\r\n                  </Link>\r\n                </td>\r\n                <td align={\"right\"} className={'right-align grey-text text-darken-1'}>\r\n                  { entry.size ? byteSize(entry.size).toString() : null }\r\n                </td>\r\n                <td align={\"right\"} className={'right-align hide-unless-hover'}>\r\n                  <a href={'#'}><Icon>delete</Icon></a>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table> }\r\n        { loading && <ProgressBar /> }\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FileManager\r\n","import React, {Component} from 'react';\r\n\r\nimport Header from \"./Header\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport DeviceProvider from \"./DeviceProvider\";\r\nimport Dashboard from \"./pages/Dashboard.js\";\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\";\r\nimport Console from \"./pages/Console\";\r\nimport Settings from \"./pages/Settings\";\r\nimport Buttplug from \"./pages/Buttplug\";\r\nimport ButtplugProvider from \"./DeviceProvider/ButtplugProvider\";\r\nimport FileManager from \"./pages/FileManager\"\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\" style={{ minHeight: '100vh'}}>\r\n        <BrowserRouter>\r\n          <DeviceProvider>\r\n            <ButtplugProvider>\r\n              <Header />\r\n\r\n              <div className={'content'} style={{ minHeight: '100vh', display: 'flex', flexDirection: 'column', flexGrow: 1 }}>\r\n                <Sidebar />\r\n\r\n                <main style={{ display: 'flex', flexDirection: 'column', flexGrow: 1}}>\r\n                  <Switch>\r\n                    <Route exact path={'/'}>\r\n                      <Dashboard />\r\n                    </Route>\r\n                    <Route path={'/settings'}>\r\n                      <Settings />\r\n                    </Route>\r\n                    <Route path={'/console'}>\r\n                      <Console />\r\n                    </Route>\r\n                    <Route path={'/connect'}>\r\n                      <Buttplug />\r\n                    </Route>\r\n                    <Route path={'/files/*'}>\r\n                      <FileManager />\r\n                    </Route>\r\n                  </Switch>\r\n                </main>\r\n              </div>\r\n            </ButtplugProvider>\r\n          </DeviceProvider>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import 'materialize-css';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}