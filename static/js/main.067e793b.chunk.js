(this["webpackJsonpnogasm-ui"]=this["webpackJsonpnogasm-ui"]||[]).push([[0],{208:function(e,t,a){},254:function(e,t,a){},430:function(e,t,a){"use strict";a.r(t);a(203);var n=a(1),i=a.n(n),l=a(47),c=a.n(l),s=(a(208),a(65)),r=a(66),o=a(72),m=a(71),d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbkAAABACAYAAACHvglNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMGJjNWJjNC0zZTk5LWNmNDItODY1NS1iZmFlYTk5YzdmODYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjQyOTQzMjgxODkyMTFFQkEyRERENEY0RDZCMTZDMkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjQyOTQzMjcxODkyMTFFQkEyRERENEY0RDZCMTZDMkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjQzNTJjOWEtNTk0My0yNDQxLTg2NjctMTIyMGNhN2QyYzYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjMwYmM1YmM0LTNlOTktY2Y0Mi04NjU1LWJmYWVhOTljN2Y4NiIv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",u=a(5),g=a(74),f=a(39),h=a(8),v=a(162),b=a.n(v),E=a(16),p=function(e){var t=Object(n.useContext)(j),a=Object(n.useState)(null),l=Object(E.a)(a,2),c=l[0],s=l[1];return i.a.createElement("div",{className:"full-splash",style:{minHeight:"100vh",position:"relative"}},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.connect(c)},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block",margin:"0 auto",width:300}},i.a.createElement("img",{src:d,alt:"Maus-Tec Logo"}),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-content"},i.a.createElement("div",{className:"card-title"},"Connect Your Device"),i.a.createElement(u.Row,{style:{margin:"0.5rem -0.75rem 0 -0.75rem"}},i.a.createElement(u.TextInput,{autoFocus:!0,s:12,disabled:t.state===w.CONNECTING,type:"text",label:"IP Address",id:"ip_address",onChange:function(e){return s(e.target.value)}})),i.a.createElement(u.Button,{type:"submit",disabled:t.state===w.CONNECTING,style:{display:"block",width:"100%"}},t.state===w.CONNECTING?"Connecting...":"Connect")))))},y="manual",N="automatic",w={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected"},O={ip:null,state:w.DISCONNECTED,config:{},readings:[],lastReading:{},mode:"",modeDisplay:"",info:{deviceName:"",firmwareVersion:"",hardwareVersion:"",deviceSerial:""},status:{wifi:{},sd:{}},_ws_log:[],_serial_cb:function(){}},j=i.a.createContext(Object(h.a)(Object(h.a)({},O),{},{connect:function(e){},send:function(e){},onSerialCmd:function(e){}})),C=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).ws=null,n.state=Object(h.a)(Object(h.a)({},O),{},{connect:n.connect.bind(Object(f.a)(n)),send:n.send.bind(Object(f.a)(n)),onSerialCmd:n.setSerialCb.bind(Object(f.a)(n))}),n.callbacks={info:n.cbInfo,configList:n.cbConfigList,serialCmd:n.cbSerialCmd,wifiStatus:n.cbWifiStatus,sdStatus:n.cbSdStatus,readings:n.cbReadings,mode:n.cbMode},n}return Object(r.a)(a,[{key:"cbInfo",value:function(e){this.setState({info:{deviceName:e.device,firmwareVersion:e.fwVersion,hardwareVersion:e.hwVersion,deviceSerial:e.serial}})}},{key:"cbConfigList",value:function(e){this.setState({config:e})}},{key:"cbSerialCmd",value:function(e){var t=e.text,a=e.nonce;this.state._serial_cb&&this.state._serial_cb({text:t,nonce:a})}},{key:"cbWifiStatus",value:function(e){this.setState({status:Object(h.a)(Object(h.a)({},this.state.status),{},{wifi:e})})}},{key:"cbSdStatus",value:function(e){this.setState({status:Object(h.a)(Object(h.a)({},this.state.status),{},{sd:e})})}},{key:"cbReadings",value:function(e){var t=Object(g.a)(this.state.readings);t.length>=100&&t.shift(),t.push(e),this.setState({readings:t,lastReading:e})}},{key:"cbMode",value:function(e){this.setState({mode:e.text.toLowerCase(),modeDisplay:e.text})}},{key:"send",value:function(e){this.ws&&(this.setState({_ws_log:[].concat(Object(g.a)(this.state._ws_log),[{send:e}])}),this.ws.sendMessage(JSON.stringify(e)))}},{key:"connect",value:function(e){var t="connecting";e?e===this.state.ip&&(t=this.state.state):t="disconnected",this.setState({ip:e,state:t})}},{key:"handleWsOpen",value:function(){this.setState({state:"connected"}),this.send({streamReadings:!0}),this.send({info:null}),this.send({configList:null}),console.log("Connected")}},{key:"handleWsClose",value:function(){this.setState({state:"disconnected"}),console.log("Closed.")}},{key:"handleWsMessage",value:function(e){var t,a=this,n=this;try{t=JSON.parse(e)}catch(l){t={data:e},console.warn(l)}if(!t.readings){var i=Object(g.a)(this.state._ws_log);i.length>=100&&i.shift(),this.setState({_ws_log:[i,{recv:e}]})}Object.keys(t).map((function(e){a.callbacks[e]?a.callbacks[e].bind(n)(t[e]):console.warn("Received unknown command from device: ",e,t[e])}))}},{key:"setSerialCb",value:function(e){this.setState({_serial_cb:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(j.Provider,{value:this.state},this.state.ip&&i.a.createElement(b.a,{url:"ws://"+this.state.ip,onOpen:this.handleWsOpen.bind(this),onClose:this.handleWsClose.bind(this),ref:function(t){return e.ws=t},debug:!0,onMessage:this.handleWsMessage.bind(this)}),this.state.state===w.CONNECTED&&this.props.children,this.state.state!==w.CONNECTED&&i.a.createElement(p,null))}}]),a}(n.Component),k=function(e){var t=Object(n.useContext)(j);return i.a.createElement(u.Navbar,{alignLinks:"right",brand:i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"brand-logo",href:"#"},i.a.createElement("img",{alt:"Maus-Tec Logo",src:d,height:18})),i.a.createElement("div",{className:"status"},t.modeDisplay)),id:"mobile-nav",menuIcon:i.a.createElement(u.Icon,null,"menu"),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}},i.a.createElement(u.NavItem,{href:"",icon:i.a.createElement(u.Icon,null,"wifi")},t.status.wifi.ssid))},I=a.p+"static/media/EoM_Blueprint.0814d075.svg",x=a(40),S=function(){var e=Object(n.useContext)(j),t=(e.state,e.state,"disconnected"===e.state);return i.a.createElement(u.SideNav,{id:"SideNav",options:{draggable:!0},fixed:!0},i.a.createElement(u.SideNavItem,{user:{background:I,image:I,name:"connecting"===e.state?"Connecting...":e.info.deviceName||"Unknown Device",email:e.ip||"Disconnected"},userView:!0}),i.a.createElement("li",null,i.a.createElement(x.b,{to:"/",exact:!0,activeClassName:"primary-dark white-text"},i.a.createElement(u.Icon,{className:"prefix"},"dashboard")," Dashboard")),i.a.createElement("li",null,i.a.createElement(x.b,{to:"/settings",activeClassName:"primary-dark white-text"},i.a.createElement(u.Icon,{className:"prefix"},"settings")," Settings")),i.a.createElement("li",null,i.a.createElement(x.b,{to:"/console",activeClassName:"primary-dark white-text"},i.a.createElement(u.Icon,{className:"prefix"},"code")," Serial Console")),!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(u.SideNavItem,{divider:!0}),i.a.createElement(u.SideNavItem,{href:"#!disconnect",onClick:function(t){return t.preventDefault()&&e.connect(null)},waves:!0,icon:i.a.createElement(u.Icon,null,"close")},"Disconnect")))},R=(a(254),300),L=13,W=function(e){return e*(Math.PI/180)},T=function(e,t,a,n,i){return(e-t)*(i-n)/(a-t)+n},A=function(e){for(var t=Object(n.useContext)(j),a=t.lastReading,l=a.pressure,c=void 0===l?0:l,s=a.arousal,r=void 0===s?0:s,o=t.config.sensitivity_threshold,m=void 0===o?0:o,d=Math.floor(T(c,0,4096,0,12)),u=(Math.floor(T(m,0,4096,0,12)),Math.floor(T(r,0,m,0,12))),g=[],f=0;f<L;f++){var v=L-f-1,b=40+23.333333333333332*f,E=Math.sin(W(b))*R/2+150,p=Math.cos(W(b))*R/2+150,y=50,N=0;v===d?(N=290,y=75):v<u?N=T(f,0,12,0,120):y=100,g[f]={color:"hsl(".concat(N,", 100%, ").concat(y,"%)"),x:E,y:p,rot:b,glow:y<100}}return i.a.createElement("div",{className:"led-ring",style:Object(h.a)({width:R,height:R},e.style)},g.map((function(e,t){return i.a.createElement("div",{className:"led led-"+t,key:t,style:{backgroundColor:e.color,left:e.x,top:e.y,transform:"translate(-50%, -50%) rotate(-".concat(e.rot,"deg)"),boxShadow:e.glow?"0 0 10px 3px ".concat(e.color):"",opacity:e.glow?1:.8}})})),e.children)},M={fontSize:"1.9rem",marginTop:0,fontWeight:"300"},D={verticalAlign:"middle",fontWeight:"300",marginTop:0,marginBottom:0,fontSize:"4rem",lineHeight:"4rem"},Z={margin:"0 0.5rem 0 0",height:"4rem",lineHeight:"4rem",verticalAlign:"middle",padding:"0 5px"},H=function(e){var t=e.name,a=e.value,n=void 0===a?"?":a,l=e.style,c=void 0===l?{}:l,s=e.onChange,r=e.unit,o=e.round,m=e.max,d=void 0===m?0:m,g=e.step,f=void 0===g?1:g,v=n;if(d>0&&!isNaN(n/d)&&(r="%",v=n=n/d*100),n%1){var b=2;o||n>100?b=0:n>=10&&(b=1),v=Math.floor(n*Math.pow(10,b))/Math.pow(10,b)}return isNaN(v)&&(v="?"),i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{style:Object(h.a)(Object(h.a)({},M),c),className:"stat-heading center primary-text"},t),i.a.createElement("h1",{className:"stat-value center primary-light-text",style:D},s&&i.a.createElement(u.Button,{flat:!0,onClick:function(e){return s(-1*f)},className:"primary-dark-text",style:Z},i.a.createElement(u.Icon,null,"keyboard_arrow_down")),v,r&&i.a.createElement("span",{style:{fontSize:"1.2rem"}}," ",r),s&&i.a.createElement(u.Button,{flat:!0,onClick:function(e){return s(f)},className:"primary-dark-text",style:Object(h.a)(Object(h.a)({},Z),{},{margin:"0 0 0 0.5rem"})},i.a.createElement(u.Icon,null,"keyboard_arrow_up"))))},z=function(){var e=Object(n.useContext)(j),t=e.lastReading.pavg||0,a=e.config.sensor_sensitivity,l=t/4095*Math.floor((255-a)/255*100);return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s12 m3"},i.a.createElement(H,{name:"Pressure",value:l,unit:"kPa",round:!0}),i.a.createElement(H,{name:"Sensitivity",round:!0,max:255,step:2,onChange:function(t){var a=e.config.sensor_sensitivity,n=void 0===a?0:a;n+=t,e.send({configSet:{sensor_sensitivity:n}})},value:e.config.sensor_sensitivity,style:{marginTop:"5rem"}})),i.a.createElement("div",{className:"col s12 m6"},i.a.createElement(A,{style:{margin:"15px auto"}},i.a.createElement(H,{name:"Arousal",value:e.lastReading.arousal,flipped:!0,max:e.config.sensitivity_threshold,round:!0}))),i.a.createElement("div",{className:"col s12 m3"},i.a.createElement(H,{name:"Speed",onChange:e.mode===y?function(t){var a=e.lastReading.motor,n=void 0===a?0:a;n+=t,e.send({setMotor:n})}:void 0,step:7,value:e.lastReading.motor/255*100,round:!0,unit:"%"}),i.a.createElement(H,{name:"Arousal Limit",onChange:function(t){var a=e.config.sensitivity_threshold,n=void 0===a?0:a;n+=t,e.send({configSet:{sensitivity_threshold:n}})},value:e.config.sensitivity_threshold,style:{marginTop:"5rem"}})))},P=a(18),B=a(172),J=function(e){var t=Object(n.useContext)(j),a=Object(n.useState)({width:0,height:300}),l=Object(E.a)(a,2),c=l[0],s=l[1],r=t.readings,o=t.config.peakLimit;return i.a.createElement(B.a,{bounds:!0,onResize:function(e){return s(e.bounds)}},(function(e){var t=e.measureRef;return i.a.createElement("div",{style:{height:300},ref:t},i.a.createElement(P.d,{width:c.width,height:c.height,data:r},i.a.createElement(P.f,{yAxisId:0,domain:[0,4096]}),i.a.createElement(P.f,{yAxisId:1,domain:[0,255],label:"%",orientation:"right"}),i.a.createElement(P.b,null),i.a.createElement(P.a,{vertical:!1,stroke:"#333333"}),i.a.createElement(P.e,{y:o,label:"Arousal Limit",stroke:"#b71c1c"}),i.a.createElement(P.c,{name:"Pressure",type:"monotone",dataKey:"pressure",yAxisId:0,dot:!1,stroke:"#81c784"}),i.a.createElement(P.c,{name:"Motor Speed",type:"step",dataKey:"motor",yAxisId:1,dot:!1,stroke:"#ffab40"}),i.a.createElement(P.c,{name:"Arousal",type:"linear",dataKey:"arousal",strokeWidth:2,yAxisId:0,dot:!1,stroke:"#ff3d00"})))}))},V=function(){var e=Object(n.useContext)(j);return i.a.createElement(u.Container,{style:{marginTop:"3rem"}},i.a.createElement(z,null),i.a.createElement("div",{className:"row",style:{marginTop:"3rem"}},i.a.createElement("div",{className:"col s12 m4"},i.a.createElement(u.Button,{onClick:function(t){t.preventDefault(),e.send({setMode:y,setMotor:0})},large:!0,disabled:0===e.lastReading.motor,className:"red darken-2 block"},"STOP!")),i.a.createElement("div",{className:"col s12 m4"},i.a.createElement("div",{className:"center",style:{lineHeight:"54px"}},i.a.createElement(u.Switch,{id:"ModeSwitch",offLabel:"Manual",onChange:function(t){var a=t.target.checked?N:y;e.send({setMode:a})},onLabel:"Automatic",checked:e.mode===N}))),i.a.createElement("div",{className:"col s12 m4"},i.a.createElement(u.Button,{onClick:function(t){t.preventDefault(),e.send({setMode:y,setMotor:255})},large:!0,disabled:e.mode!==N,className:"green darken-2 block"},"Allow Orgasm"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-content"},i.a.createElement(J,null))))))},G=a(9),U=a(68),F=function(){var e=Object(n.useContext)(j),t=Object(n.useState)({}),a=Object(E.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(""),r=Object(E.a)(s,2),o=r[0],m=r[1],d=Object(n.useRef)(null),g=function(e){var t=e.text,a=e.nonce,n=Object(h.a)({},l);console.log({text:t,nonce:a,lines:l,l:n}),n[a]||(n[a]={line:""}),n[a].response=t,c(n)};Object(n.useEffect)((function(){e.onSerialCmd(g),d.current.scrollIntoView({behavior:"smooth"})}),[l]);return i.a.createElement("div",{className:"fullscreen-view",style:{display:"flex",flexGrow:1,flexDirection:"column"}},i.a.createElement("pre",{style:{margin:0,padding:"0.5rem 1.5rem 1.5rem 1.5rem",flexGrow:1,height:100,overflow:"auto"}},Object.keys(l).map((function(e){var t=l[e],a=t.line.match(/\s+/),n=a?a.index:t.line.length,c=[t.line.substr(0,n),t.line.substr(n+1)],s=c[0],r=c[1];return i.a.createElement("code",{key:e,style:{marginTop:"1rem",display:"block"}},i.a.createElement("div",null,i.a.createElement("span",{className:"grey-text"},">")," ",i.a.createElement("span",{className:"primary-light-text"},s)," ",i.a.createElement("span",null,r)),t.response&&i.a.createElement("div",null,t.response))})),i.a.createElement("div",{style:{float:"left",clear:"both"},ref:d})),i.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),"clear"===o)return m(""),void c({});var a={line:o,response:null},n=Object.keys(l).length+1;c(Object(h.a)(Object(h.a)({},l),{},Object(U.a)({},n,a))),e.send({serialCmd:{nonce:n,cmd:o}}),m("")},style:{display:"flex"}},i.a.createElement("input",{type:"text",className:"grey darken-3",autoComplete:"off",style:{boxSizing:"border-box",padding:"0 1.5rem",margin:0,flexGrow:1},name:"cmd",value:o,onChange:function(e){e.preventDefault(),m(e.target.value)},placeholder:"Command..."}),i.a.createElement(u.Button,{disabled:""===o,type:"submit",style:{height:"3rem"}},"Send")))},K=function(){var e=Object(n.useContext)(j),t=Object(n.useState)(Object(h.a)(Object(h.a)({},e.config),{},{_dirty:[]})),a=Object(E.a)(t,2),l=a[0],c=a[1],s=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value,i=t.checked,s=t.type,r=Object(h.a)({},l);r[a]="checkbox"===s?i:n,r._dirty.indexOf(a)<0&&r._dirty.push(a),c(r)},r=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return function(t){t.preventDefault();var n={};l._dirty.map((function(e){a.indexOf(e)>=0&&(n[e]=l[e])})),console.log({config:n}),e.send({configSet:n}),c(Object(h.a)(Object(h.a)({},l),{},{_dirty:l._dirty.filter((function(e){return-1===a.indexOf(e)}))}))}};return i.a.createElement(u.Container,{style:{marginTop:"3rem",marginBottom:"3rem"}},i.a.createElement("form",{onSubmit:r("wifi_on","wifi_key","wifi_ssid")},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-content"},i.a.createElement("div",{className:"card-title",style:{marginBottom:"1.5rem"}},i.a.createElement("div",{className:"right"},i.a.createElement(u.Switch,{onLabel:"On",offLabel:"Off",name:"wifi_on",id:"wifi_on",checked:!!l.wifi_on,onChange:s})),"WiFi Connection"),i.a.createElement(u.Row,{style:{marginLeft:"-0.75rem",marginRight:"-0.75rem",marginBottom:0}},i.a.createElement(u.TextInput,{s:12,name:"wifi_ssid",id:"wifi_ssid",label:"Network SSID",value:l.wifi_ssid,onChange:s}),i.a.createElement(u.TextInput,{type:"password",s:12,name:"wifi_key",id:"wifi_key",label:"Network Password",value:l.wifi_key,onChange:s}))),i.a.createElement("div",{className:"card-action right-align"},i.a.createElement(u.Button,{type:"submit"},"Save")))),i.a.createElement("form",{onSubmit:r("bt_on","bt_display_name")},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-content"},i.a.createElement("div",{className:"card-title",style:{marginBottom:"1.5rem"}},i.a.createElement("div",{className:"right"},i.a.createElement(u.Switch,{onLabel:"On",offLabel:"Off",name:"bt_on",id:"bt_on",checked:!!l.bt_on,onChange:s})),"Bluetooth Connection"),i.a.createElement(u.Row,{style:{marginLeft:"-0.75rem",marginRight:"-0.75rem",marginBottom:0}},i.a.createElement(u.TextInput,{s:12,name:"bt_display_name",id:"bt_display_name",label:"Bluetooth Display Name",value:l.bt_display_name,onChange:s}))),i.a.createElement("div",{className:"card-action right-align"},i.a.createElement(u.Button,{type:"submit"},"Save")))),i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-content"},i.a.createElement("div",{className:"card-title"},"Raw Settings"),i.a.createElement("pre",null,JSON.stringify(e.config,void 0,2)))),i.a.createElement(u.Button,{type:"button",className:"red darken-2",onClick:function(t){t.preventDefault(),e.send({serialCmd:{cmd:"restart"}})}},"Reboot Device"))},Q=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"App",style:{minHeight:"100vh"}},i.a.createElement(x.a,null,i.a.createElement(C,null,i.a.createElement(k,null),i.a.createElement("div",{className:"content",style:{minHeight:"100vh",display:"flex",flexDirection:"column",flexGrow:1}},i.a.createElement(S,null),i.a.createElement("main",{style:{display:"flex",flexDirection:"column",flexGrow:1}},i.a.createElement(G.c,null,i.a.createElement(G.a,{exact:!0,path:"/"},i.a.createElement(V,null)),i.a.createElement(G.a,{path:"/settings"},i.a.createElement(K,null)),i.a.createElement(G.a,{path:"/console"},i.a.createElement(F,null))))))))}}]),a}(n.Component),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Q,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):X(t,e)}))}}()}},[[430,1,2]]]);
//# sourceMappingURL=main.067e793b.chunk.js.map